<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/ianshil/FOBiInt">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">DC.Lang</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Strings.String.html#"><span class="id" title="library">String</span></a>.<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">string_scope</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Relations.Relations.html#"><span class="id" title="library">Relations</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#"><span class="id" title="library">Datatypes</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ListNotations"><span class="id" title="module">ListNotations</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="DC.ListSetNotations.html#"><span class="id" title="library">ListSetNotations</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="DC.EqDec.html#"><span class="id" title="library">EqDec</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="DC.Utils.html#"><span class="id" title="library">Utils</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="DC.FunAgree.html#"><span class="id" title="library">FunAgree</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="DC.Tactics.html#"><span class="id" title="library">Tactics</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="psc" class="idref" href="#psc"><span class="id" title="definition">psc</span></a> (<a id="A:1" class="idref" href="#A:1"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) : <span class="id" title="keyword">Type</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="DC.Lang.html#A:1"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="DC.Lang.html#A:1"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="trf" class="idref" href="#trf"><span class="id" title="definition">trf</span></a> (<a id="A:2" class="idref" href="#A:2"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) : <span class="id" title="keyword">Type</span> := <a class="idref" href="DC.Lang.html#A:2"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#A:2"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="pscmap" class="idref" href="#pscmap"><span class="id" title="definition">pscmap</span></a> {<a id="A:3" class="idref" href="#A:3"><span class="id" title="binder">A</span></a> <a id="B:4" class="idref" href="#B:4"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>} (<a id="f:5" class="idref" href="#f:5"><span class="id" title="binder">f</span></a> : <a class="idref" href="DC.Lang.html#A:3"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#B:4"><span class="id" title="variable">B</span></a>) : <a class="idref" href="DC.Lang.html#psc"><span class="id" title="definition">psc</span></a> <a class="idref" href="DC.Lang.html#A:3"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#psc"><span class="id" title="definition">psc</span></a> <a class="idref" href="DC.Lang.html#B:4"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="x:6" class="idref" href="#x:6"><span class="id" title="binder">x</span></a> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="DC.Lang.html#x:6"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ps</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="DC.Lang.html#f:5"><span class="id" title="variable">f</span></a> <span class="id" title="var">ps</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="DC.Lang.html#f:5"><span class="id" title="variable">f</span></a> <span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Class&nbsp;for&nbsp;a&nbsp;plain&nbsp;formal&nbsp;language&nbsp;with&nbsp;sub-expressions&nbsp;and&nbsp;connectives&nbsp;*)</span><br/>
<span class="id" title="keyword">Class</span> <a id="FLANG" class="idref" href="#FLANG"><span class="id" title="record">FLANG</span></a> {<a id="expr:8" class="idref" href="#expr:8"><span class="id" title="binder">expr</span></a> : <span class="id" title="keyword">Type</span>} {<a id="ED:9" class="idref" href="#ED:9"><span class="id" title="binder">ED</span></a> : <a class="idref" href="DC.EqDec.html#EqDec"><span class="id" title="class">EqDec</span></a> <a class="idref" href="DC.Lang.html#expr:8"><span class="id" title="variable">expr</span></a>} := {<br/>
&nbsp;&nbsp;<a id="ipse" class="idref" href="#ipse"><span class="id" title="projection">ipse</span></a> : <a class="idref" href="DC.Lang.html#expr:8"><span class="id" title="variable">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="DC.Lang.html#expr:8"><span class="id" title="variable">expr</span></a>; <span class="comment">(*&nbsp;immediate&nbsp;proper&nbsp;sub-expressions&nbsp;*)</span><br/>
&nbsp;&nbsp;<a id="ipse_rect" class="idref" href="#ipse_rect"><span class="id" title="projection">ipse_rect</span></a> : <span class="id" title="keyword">forall</span> <a id="P:12" class="idref" href="#P:12"><span class="id" title="binder">P</span></a> : <a class="idref" href="DC.Lang.html#expr:8"><span class="id" title="variable">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="A:13" class="idref" href="#A:13"><span class="id" title="binder">A</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="A':14" class="idref" href="#A':14"><span class="id" title="binder">A'</span></a>, <a class="idref" href="DC.Lang.html#A':14"><span class="id" title="variable">A'</span></a> <a class="idref" href="DC.ListSetNotations.html#b018a66e1e5f3a3e69df51e53be82ded"><span class="id" title="notation">∈</span></a> <a class="idref" href="DC.Lang.html#ipse:11"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:13"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#P:12"><span class="id" title="variable">P</span></a> <a class="idref" href="DC.Lang.html#A':14"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#P:12"><span class="id" title="variable">P</span></a> <a class="idref" href="DC.Lang.html#A:13"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">forall</span> <a id="A:15" class="idref" href="#A:15"><span class="id" title="binder">A</span></a>, <a class="idref" href="DC.Lang.html#P:12"><span class="id" title="variable">P</span></a> <a class="idref" href="DC.Lang.html#A:15"><span class="id" title="variable">A</span></a>;<br/>
&nbsp;&nbsp;<a id="ipse_rect_cmp" class="idref" href="#ipse_rect_cmp"><span class="id" title="projection">ipse_rect_cmp</span></a> : <span class="id" title="keyword">forall</span> (<a id="P:17" class="idref" href="#P:17"><span class="id" title="binder">P</span></a> : <a class="idref" href="DC.Lang.html#expr:8"><span class="id" title="variable">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>) <a id="F:18" class="idref" href="#F:18"><span class="id" title="binder">F</span></a> <a id="A:19" class="idref" href="#A:19"><span class="id" title="binder">A</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#ipse_rect:16"><span class="id" title="method">ipse_rect</span></a> <a class="idref" href="DC.Lang.html#P:17"><span class="id" title="variable">P</span></a> <a class="idref" href="DC.Lang.html#F:18"><span class="id" title="variable">F</span></a> <a class="idref" href="DC.Lang.html#A:19"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="DC.Lang.html#F:18"><span class="id" title="variable">F</span></a> <a class="idref" href="DC.Lang.html#A:19"><span class="id" title="variable">A</span></a> (<span class="id" title="keyword">fun</span> <a id="B:20" class="idref" href="#B:20"><span class="id" title="binder">B</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="DC.Lang.html#ipse_rect:16"><span class="id" title="method">ipse_rect</span></a> <a class="idref" href="DC.Lang.html#P:17"><span class="id" title="variable">P</span></a> <a class="idref" href="DC.Lang.html#F:18"><span class="id" title="variable">F</span></a> <a class="idref" href="DC.Lang.html#B:20"><span class="id" title="variable">B</span></a>);<br/>
&nbsp;&nbsp;<a id="conn" class="idref" href="#conn"><span class="id" title="projection">conn</span></a> : <a class="idref" href="DC.Lang.html#expr:8"><span class="id" title="variable">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="DC.Lang.html#expr:8"><span class="id" title="variable">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#expr:8"><span class="id" title="variable">expr</span></a>; <span class="comment">(*&nbsp;main&nbsp;connective&nbsp;*)</span><br/>
&nbsp;&nbsp;<a id="conn_ipse" class="idref" href="#conn_ipse"><span class="id" title="projection">conn_ipse</span></a> : <span class="id" title="keyword">forall</span> <a id="A:23" class="idref" href="#A:23"><span class="id" title="binder">A</span></a>, <a class="idref" href="DC.Lang.html#A:23"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="DC.Lang.html#conn:22"><span class="id" title="method">conn</span></a> <a class="idref" href="DC.Lang.html#A:23"><span class="id" title="variable">A</span></a> (<a class="idref" href="DC.Lang.html#ipse:11"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:23"><span class="id" title="variable">A</span></a>);<br/>
&nbsp;&nbsp;<a id="conn_inj" class="idref" href="#conn_inj"><span class="id" title="projection">conn_inj</span></a> : <span class="id" title="keyword">forall</span> <a id="A:25" class="idref" href="#A:25"><span class="id" title="binder">A</span></a> <a id="B:26" class="idref" href="#B:26"><span class="id" title="binder">B</span></a> <a id="l:27" class="idref" href="#l:27"><span class="id" title="binder">l</span></a> <a id="l':28" class="idref" href="#l':28"><span class="id" title="binder">l'</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="DC.Lang.html#l:27"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="DC.Lang.html#ipse:11"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:25"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="DC.Lang.html#l':28"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="DC.Lang.html#ipse:11"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#B:26"><span class="id" title="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#conn:22"><span class="id" title="method">conn</span></a> <a class="idref" href="DC.Lang.html#A:25"><span class="id" title="variable">A</span></a> <a class="idref" href="DC.Lang.html#l:27"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="DC.Lang.html#conn:22"><span class="id" title="method">conn</span></a> <a class="idref" href="DC.Lang.html#B:26"><span class="id" title="variable">B</span></a> <a class="idref" href="DC.Lang.html#l':28"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#conn:22"><span class="id" title="method">conn</span></a> <a class="idref" href="DC.Lang.html#A:25"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="DC.Lang.html#conn:22"><span class="id" title="method">conn</span></a> <a class="idref" href="DC.Lang.html#B:26"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="DC.Lang.html#l:27"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="DC.Lang.html#l':28"><span class="id" title="variable">l'</span></a>}.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Subexprs" class="idref" href="#Subexprs"><span class="id" title="section">Subexprs</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="L:32" class="idref" href="#L:32"><span class="id" title="binder">L</span></a> : <a class="idref" href="DC.Lang.html#FLANG"><span class="id" title="class">FLANG</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Subexpressions&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="subexprs" class="idref" href="#subexprs"><span class="id" title="definition">subexprs</span></a> : <a class="idref" href="DC.Lang.html#Subexprs.expr"><span class="id" title="variable">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="DC.Lang.html#Subexprs.expr"><span class="id" title="variable">expr</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#ipse_rect"><span class="id" title="method">ipse_rect</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="A:33" class="idref" href="#A:33"><span class="id" title="binder">A</span></a> <a id="IH:34" class="idref" href="#IH:34"><span class="id" title="binder">IH</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#A:33"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="DC.Utils.html#list_union"><span class="id" title="definition">list_union</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:33"><span class="id" title="variable">A</span></a>) (<span class="id" title="keyword">fun</span> <a id="A':35" class="idref" href="#A':35"><span class="id" title="binder">A'</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">match</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a> <a class="idref" href="DC.EqDec.html#eqdec"><span class="id" title="method">eqdec</span></a> <a class="idref" href="DC.Lang.html#A':35"><span class="id" title="variable">A'</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:33"><span class="id" title="variable">A</span></a>)) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">Hin</span> =&gt; <a class="idref" href="DC.Lang.html#IH:34"><span class="id" title="variable">IH</span></a> <a class="idref" href="DC.Lang.html#A':35"><span class="id" title="variable">A'</span></a> <span class="id" title="var">Hin</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span>  =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>))).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subexprs_eq'" class="idref" href="#subexprs_eq'"><span class="id" title="lemma">subexprs_eq'</span></a> (<a id="A:36" class="idref" href="#A:36"><span class="id" title="binder">A</span></a> : <a class="idref" href="DC.Lang.html#Subexprs.expr"><span class="id" title="variable">expr</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#subexprs"><span class="id" title="definition">subexprs</span></a> <a class="idref" href="DC.Lang.html#A:36"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#A:36"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="DC.Utils.html#list_union"><span class="id" title="definition">list_union</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:36"><span class="id" title="variable">A</span></a>) (<span class="id" title="keyword">fun</span> <a id="A':37" class="idref" href="#A':37"><span class="id" title="binder">A'</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a> <a class="idref" href="DC.EqDec.html#eqdec"><span class="id" title="method">eqdec</span></a> <a class="idref" href="DC.Lang.html#A':37"><span class="id" title="variable">A'</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:36"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <a class="idref" href="DC.Lang.html#subexprs"><span class="id" title="definition">subexprs</span></a> <a class="idref" href="DC.Lang.html#A':37"><span class="id" title="variable">A'</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="DC.Lang.html#subexprs"><span class="id" title="definition">subexprs</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#ipse_rect_cmp"><span class="id" title="method">ipse_rect_cmp</span></a>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subexprs_eq" class="idref" href="#subexprs_eq"><span class="id" title="lemma">subexprs_eq</span></a> (<a id="A:38" class="idref" href="#A:38"><span class="id" title="binder">A</span></a> : <a class="idref" href="DC.Lang.html#Subexprs.expr"><span class="id" title="variable">expr</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#subexprs"><span class="id" title="definition">subexprs</span></a> <a class="idref" href="DC.Lang.html#A:38"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="DC.Lang.html#A:38"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="DC.Utils.html#list_union"><span class="id" title="definition">list_union</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:38"><span class="id" title="variable">A</span></a>) <a class="idref" href="DC.Lang.html#subexprs"><span class="id" title="definition">subexprs</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#subexprs_eq'"><span class="id" title="lemma">subexprs_eq'</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Utils.html#union_in_dec"><span class="id" title="lemma">union_in_dec</span></a>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="in_subexprs_iff" class="idref" href="#in_subexprs_iff"><span class="id" title="lemma">in_subexprs_iff</span></a> : <span class="id" title="keyword">forall</span> <a id="A:39" class="idref" href="#A:39"><span class="id" title="binder">A</span></a> <a id="B:40" class="idref" href="#B:40"><span class="id" title="binder">B</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#B:40"><span class="id" title="variable">B</span></a> <a class="idref" href="DC.ListSetNotations.html#b018a66e1e5f3a3e69df51e53be82ded"><span class="id" title="notation">∈</span></a> <a class="idref" href="DC.Lang.html#subexprs"><span class="id" title="definition">subexprs</span></a> <a class="idref" href="DC.Lang.html#A:39"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="DC.Lang.html#B:40"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="DC.Lang.html#A:39"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="A':41" class="idref" href="#A':41"><span class="id" title="binder">A'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="DC.Lang.html#A':41"><span class="id" title="variable">A'</span></a> <a class="idref" href="DC.ListSetNotations.html#b018a66e1e5f3a3e69df51e53be82ded"><span class="id" title="notation">∈</span></a> <a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:39"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="DC.Lang.html#B:40"><span class="id" title="variable">B</span></a> <a class="idref" href="DC.ListSetNotations.html#b018a66e1e5f3a3e69df51e53be82ded"><span class="id" title="notation">∈</span></a> <a class="idref" href="DC.Lang.html#subexprs"><span class="id" title="definition">subexprs</span></a> <a class="idref" href="DC.Lang.html#A':41"><span class="id" title="variable">A'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#subexprs_eq"><span class="id" title="lemma">subexprs_eq</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="DC.Utils.html#eq_sym_iff"><span class="id" title="lemma">eq_sym_iff</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="DC.Utils.html#In_union_iff"><span class="id" title="lemma">In_union_iff</span></a>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subexprs_refl" class="idref" href="#subexprs_refl"><span class="id" title="lemma">subexprs_refl</span></a> : <span class="id" title="keyword">forall</span> <a id="A:42" class="idref" href="#A:42"><span class="id" title="binder">A</span></a>, <a class="idref" href="DC.Lang.html#A:42"><span class="id" title="variable">A</span></a> <a class="idref" href="DC.ListSetNotations.html#b018a66e1e5f3a3e69df51e53be82ded"><span class="id" title="notation">∈</span></a> <a class="idref" href="DC.Lang.html#subexprs"><span class="id" title="definition">subexprs</span></a> <a class="idref" href="DC.Lang.html#A:42"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#subexprs_eq"><span class="id" title="lemma">subexprs_eq</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subexprs_tran" class="idref" href="#subexprs_tran"><span class="id" title="lemma">subexprs_tran</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="A:43" class="idref" href="#A:43"><span class="id" title="binder">A</span></a> <a id="B:44" class="idref" href="#B:44"><span class="id" title="binder">B</span></a> <a id="C:45" class="idref" href="#C:45"><span class="id" title="binder">C</span></a>, <a class="idref" href="DC.Lang.html#A:43"><span class="id" title="variable">A</span></a> <a class="idref" href="DC.ListSetNotations.html#b018a66e1e5f3a3e69df51e53be82ded"><span class="id" title="notation">∈</span></a> <a class="idref" href="DC.Lang.html#subexprs"><span class="id" title="definition">subexprs</span></a> <a class="idref" href="DC.Lang.html#B:44"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#B:44"><span class="id" title="variable">B</span></a> <a class="idref" href="DC.ListSetNotations.html#b018a66e1e5f3a3e69df51e53be82ded"><span class="id" title="notation">∈</span></a> <a class="idref" href="DC.Lang.html#subexprs"><span class="id" title="definition">subexprs</span></a> <a class="idref" href="DC.Lang.html#C:45"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#A:43"><span class="id" title="variable">A</span></a> <a class="idref" href="DC.ListSetNotations.html#b018a66e1e5f3a3e69df51e53be82ded"><span class="id" title="notation">∈</span></a> <a class="idref" href="DC.Lang.html#subexprs"><span class="id" title="definition">subexprs</span></a> <a class="idref" href="DC.Lang.html#C:45"><span class="id" title="variable">C</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>. <span class="id" title="var">revert</span> <span class="id" title="var">C</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">C</span> <span class="id" title="keyword">using</span> (@<a class="idref" href="DC.Lang.html#ipse_rect"><span class="id" title="method">ipse_rect</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="DC.Lang.html#Subexprs.L"><span class="id" title="variable">L</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">H</span> <span class="id" title="var">into</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">HA</span> <span class="id" title="var">HB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#in_subexprs_iff"><span class="id" title="lemma">in_subexprs_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HB</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HB</span>|[<span class="id" title="var">C'</span> [<span class="id" title="var">HC'in</span> <span class="id" title="var">HBin</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HB</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#in_subexprs_iff"><span class="id" title="lemma">in_subexprs_iff</span></a>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">C'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">IH</span> <span class="id" title="var">C'</span> <span class="id" title="var">HC'in</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>); <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="conn_inj_iff" class="idref" href="#conn_inj_iff"><span class="id" title="lemma">conn_inj_iff</span></a> (<a id="A:46" class="idref" href="#A:46"><span class="id" title="binder">A</span></a> <a id="B:47" class="idref" href="#B:47"><span class="id" title="binder">B</span></a> : <a class="idref" href="DC.Lang.html#Subexprs.expr"><span class="id" title="variable">expr</span></a>) (<a id="l:48" class="idref" href="#l:48"><span class="id" title="binder">l</span></a> <a id="l':49" class="idref" href="#l':49"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="DC.Lang.html#Subexprs.expr"><span class="id" title="variable">expr</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="DC.Lang.html#l:48"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:46"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="DC.Lang.html#l':49"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#B:47"><span class="id" title="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#conn"><span class="id" title="method">conn</span></a> <a class="idref" href="DC.Lang.html#A:46"><span class="id" title="variable">A</span></a> <a class="idref" href="DC.Lang.html#l:48"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="DC.Lang.html#conn"><span class="id" title="method">conn</span></a> <a class="idref" href="DC.Lang.html#B:47"><span class="id" title="variable">B</span></a> <a class="idref" href="DC.Lang.html#l':49"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="DC.Lang.html#conn"><span class="id" title="method">conn</span></a> <a class="idref" href="DC.Lang.html#A:46"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="DC.Lang.html#conn"><span class="id" title="method">conn</span></a> <a class="idref" href="DC.Lang.html#B:47"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="DC.Lang.html#l:48"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="DC.Lang.html#l':49"><span class="id" title="variable">l'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hl'</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">apply</span> (<a class="idref" href="DC.Lang.html#conn_inj"><span class="id" title="method">conn_inj</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hl'</span>)|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Heqconn</span> <span class="id" title="var">Heql</span>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqconn</span>, <span class="id" title="var">Heql</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="conn_conn" class="idref" href="#conn_conn"><span class="id" title="lemma">conn_conn</span></a> : <span class="id" title="keyword">forall</span> <a id="A:50" class="idref" href="#A:50"><span class="id" title="binder">A</span></a> <a id="l:51" class="idref" href="#l:51"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="DC.Lang.html#l:51"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:50"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#conn"><span class="id" title="method">conn</span></a> (<a class="idref" href="DC.Lang.html#conn"><span class="id" title="method">conn</span></a> <a class="idref" href="DC.Lang.html#A:50"><span class="id" title="variable">A</span></a> <a class="idref" href="DC.Lang.html#l:51"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="DC.Lang.html#conn"><span class="id" title="method">conn</span></a> <a class="idref" href="DC.Lang.html#A:50"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">l</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="DC.Lang.html#conn_inj"><span class="id" title="method">conn_inj</span></a>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="var">eassumption</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a>, <a class="idref" href="DC.Lang.html#conn_ipse"><span class="id" title="method">conn_ipse</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ipse_conn" class="idref" href="#ipse_conn"><span class="id" title="lemma">ipse_conn</span></a> : <span class="id" title="keyword">forall</span> <a id="A:52" class="idref" href="#A:52"><span class="id" title="binder">A</span></a> <a id="l:53" class="idref" href="#l:53"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="DC.Lang.html#l:53"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:52"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> (<a class="idref" href="DC.Lang.html#conn"><span class="id" title="method">conn</span></a> <a class="idref" href="DC.Lang.html#A:52"><span class="id" title="variable">A</span></a> <a class="idref" href="DC.Lang.html#l:53"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="DC.Lang.html#l:53"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">l</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="DC.Lang.html#conn_inj"><span class="id" title="method">conn_inj</span></a>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="var">eassumption</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a>, <a class="idref" href="DC.Lang.html#conn_ipse"><span class="id" title="method">conn_ipse</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="listsubexprs" class="idref" href="#listsubexprs"><span class="id" title="definition">listsubexprs</span></a> (<a id="l:54" class="idref" href="#l:54"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="DC.Lang.html#Subexprs.expr"><span class="id" title="variable">expr</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="DC.Lang.html#Subexprs.expr"><span class="id" title="variable">expr</span></a> := <a class="idref" href="DC.Utils.html#list_union"><span class="id" title="definition">list_union</span></a> <a class="idref" href="DC.Lang.html#l:54"><span class="id" title="variable">l</span></a> <a class="idref" href="DC.Lang.html#subexprs"><span class="id" title="definition">subexprs</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="listsubexprs_refl" class="idref" href="#listsubexprs_refl"><span class="id" title="lemma">listsubexprs_refl</span></a> : <span class="id" title="keyword">forall</span> <a id="l:55" class="idref" href="#l:55"><span class="id" title="binder">l</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> <a class="idref" href="DC.Lang.html#l:55"><span class="id" title="variable">l</span></a> (<a class="idref" href="DC.Lang.html#listsubexprs"><span class="id" title="definition">listsubexprs</span></a> <a class="idref" href="DC.Lang.html#l:55"><span class="id" title="variable">l</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">A</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="DC.Lang.html#listsubexprs"><span class="id" title="definition">listsubexprs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Utils.html#In_union_iff"><span class="id" title="lemma">In_union_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="DC.Lang.html#subexprs_refl"><span class="id" title="lemma">subexprs_refl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="listsubexprs_subclosed" class="idref" href="#listsubexprs_subclosed"><span class="id" title="lemma">listsubexprs_subclosed</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="l:56" class="idref" href="#l:56"><span class="id" title="binder">l</span></a> <a id="l':57" class="idref" href="#l':57"><span class="id" title="binder">l'</span></a>, <a class="idref" href="DC.Lang.html#l:56"><span class="id" title="variable">l</span></a> <a class="idref" href="DC.ListSetNotations.html#db79eb3062cfc9024d8dda07dffe69e9"><span class="id" title="notation">⊆</span></a> <a class="idref" href="DC.Lang.html#listsubexprs"><span class="id" title="definition">listsubexprs</span></a> <a class="idref" href="DC.Lang.html#l':57"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#listsubexprs"><span class="id" title="definition">listsubexprs</span></a> <a class="idref" href="DC.Lang.html#l:56"><span class="id" title="variable">l</span></a> <a class="idref" href="DC.ListSetNotations.html#db79eb3062cfc9024d8dda07dffe69e9"><span class="id" title="notation">⊆</span></a> <a class="idref" href="DC.Lang.html#listsubexprs"><span class="id" title="definition">listsubexprs</span></a> <a class="idref" href="DC.Lang.html#l':57"><span class="id" title="variable">l'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">l'</span> <span class="id" title="var">H</span> <span class="id" title="var">A</span> <span class="id" title="var">HAin</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="DC.Lang.html#listsubexprs"><span class="id" title="definition">listsubexprs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HAin</span> |- *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Utils.html#In_union_iff"><span class="id" title="lemma">In_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HAin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Utils.html#In_union_iff"><span class="id" title="lemma">In_union_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HAin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">B</span> [<span class="id" title="var">HBin</span> <span class="id" title="var">HAin</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HBin</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="DC.Lang.html#listsubexprs"><span class="id" title="definition">listsubexprs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HBin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Utils.html#In_union_iff"><span class="id" title="lemma">In_union_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HBin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HBin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">C</span> [<span class="id" title="var">HCin</span> <span class="id" title="var">HBin</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">C</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="DC.Lang.html#subexprs_tran"><span class="id" title="lemma">subexprs_tran</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="DC.Lang.html#Subexprs"><span class="id" title="section">Subexprs</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Class&nbsp;of&nbsp;indexed&nbsp;expressions,&nbsp;used&nbsp;in&nbsp;particular&nbsp;for&nbsp;substitutions&nbsp;*)</span><br/>
<span class="id" title="keyword">Class</span> <a id="IXEXP" class="idref" href="#IXEXP"><span class="id" title="record">IXEXP</span></a> {<a id="expr:58" class="idref" href="#expr:58"><span class="id" title="binder">expr</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="L:60" class="idref" href="#L:60"><span class="id" title="binder">L</span></a> : <a class="idref" href="DC.Lang.html#FLANG"><span class="id" title="class">FLANG</span></a> <a class="idref" href="DC.Lang.html#expr:58"><span class="id" title="variable">expr</span></a>} {<a id="Ix:61" class="idref" href="#Ix:61"><span class="id" title="binder">Ix</span></a> : <span class="id" title="keyword">Type</span>} (<a id="Var:62" class="idref" href="#Var:62"><span class="id" title="binder">Var</span></a> : <a class="idref" href="DC.Lang.html#Ix:61"><span class="id" title="variable">Ix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#expr:58"><span class="id" title="variable">expr</span></a>) := {<br/>
&nbsp;&nbsp;<a id="Var_dec" class="idref" href="#Var_dec"><span class="id" title="projection">Var_dec</span></a> : <span class="id" title="keyword">forall</span> <a id="A:64" class="idref" href="#A:64"><span class="id" title="binder">A</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a><a id="v:65" class="idref" href="#v:65"><span class="id" title="binder">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="DC.Lang.html#Ix:61"><span class="id" title="variable">Ix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <a class="idref" href="DC.Lang.html#A:64"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="DC.Lang.html#Var:62"><span class="id" title="variable">Var</span></a> <a class="idref" href="DC.Lang.html#v:65"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">{</span></a><span class="id" title="keyword">forall</span> <a id="v:66" class="idref" href="#v:66"><span class="id" title="binder">v</span></a>, <a class="idref" href="DC.Lang.html#A:64"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="DC.Lang.html#Var:62"><span class="id" title="variable">Var</span></a> <a class="idref" href="DC.Lang.html#v:66"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">}</span></a>;<br/>
&nbsp;&nbsp;<a id="Var_inj" class="idref" href="#Var_inj"><span class="id" title="projection">Var_inj</span></a> : <span class="id" title="keyword">forall</span> <a id="v:68" class="idref" href="#v:68"><span class="id" title="binder">v</span></a> <a id="w:69" class="idref" href="#w:69"><span class="id" title="binder">w</span></a>, <a class="idref" href="DC.Lang.html#Var:62"><span class="id" title="variable">Var</span></a> <a class="idref" href="DC.Lang.html#v:68"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="DC.Lang.html#Var:62"><span class="id" title="variable">Var</span></a> <a class="idref" href="DC.Lang.html#w:69"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#v:68"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="DC.Lang.html#w:69"><span class="id" title="variable">w</span></a>;<br/>
&nbsp;&nbsp;<a id="Var_ipse" class="idref" href="#Var_ipse"><span class="id" title="projection">Var_ipse</span></a> : <span class="id" title="keyword">forall</span> <a id="v:71" class="idref" href="#v:71"><span class="id" title="binder">v</span></a>, <a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> (<a class="idref" href="DC.Lang.html#Var:62"><span class="id" title="variable">Var</span></a> <a class="idref" href="DC.Lang.html#v:71"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>; }.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Subst" class="idref" href="#Subst"><span class="id" title="section">Subst</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="formula:73" class="idref" href="#formula:73"><span class="id" title="binder">formula</span></a> : <span class="id" title="keyword">Type</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="EDf:74" class="idref" href="#EDf:74"><span class="id" title="binder">EDf</span></a> : <a class="idref" href="DC.EqDec.html#EqDec"><span class="id" title="class">EqDec</span></a> <a class="idref" href="DC.Lang.html#Subst.formula"><span class="id" title="variable">formula</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="Lf:75" class="idref" href="#Lf:75"><span class="id" title="binder">Lf</span></a> : @<a class="idref" href="DC.Lang.html#FLANG"><span class="id" title="class">FLANG</span></a> <a class="idref" href="DC.Lang.html#Subst.formula"><span class="id" title="variable">formula</span></a> <a class="idref" href="DC.Lang.html#Subst.EDf"><span class="id" title="variable">EDf</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Class&nbsp;of&nbsp;substitutive&nbsp;logics,&nbsp;i.e.&nbsp;logic&nbsp;with&nbsp;means&nbsp;to&nbsp;make&nbsp;substitutions&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="LOGLANG" class="idref" href="#LOGLANG"><span class="id" title="record">LOGLANG</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Atm" class="idref" href="#Atm"><span class="id" title="projection">Atm</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#Subst.formula"><span class="id" title="variable">formula</span></a>; <span class="comment">(*&nbsp;Atoms&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="FV" class="idref" href="#FV"><span class="id" title="projection">FV</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#Subst.formula"><span class="id" title="variable">formula</span></a>; <span class="comment">(*&nbsp;Formula&nbsp;variables&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="ATMVAR" class="idref" href="#ATMVAR"><span class="id" title="projection">ATMVAR</span></a> :: <a class="idref" href="DC.Lang.html#IXEXP"><span class="id" title="class">IXEXP</span></a> <a class="idref" href="DC.Lang.html#Atm:77"><span class="id" title="method">Atm</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="FVVAR" class="idref" href="#FVVAR"><span class="id" title="projection">FVVAR</span></a> :: <a class="idref" href="DC.Lang.html#IXEXP"><span class="id" title="class">IXEXP</span></a> <a class="idref" href="DC.Lang.html#FV:78"><span class="id" title="method">FV</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Atm_FV_disc" class="idref" href="#Atm_FV_disc"><span class="id" title="projection">Atm_FV_disc</span></a> : <span class="id" title="keyword">forall</span> <a id="p:81" class="idref" href="#p:81"><span class="id" title="binder">p</span></a> <a id="V:82" class="idref" href="#V:82"><span class="id" title="binder">V</span></a>, <a class="idref" href="DC.Lang.html#Atm:77"><span class="id" title="method">Atm</span></a> <a class="idref" href="DC.Lang.html#p:81"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="DC.Lang.html#FV:78"><span class="id" title="method">FV</span></a> <a class="idref" href="DC.Lang.html#V:82"><span class="id" title="variable">V</span></a>; }.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="aSubst" class="idref" href="#aSubst"><span class="id" title="definition">aSubst</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>. <span class="comment">(*&nbsp;Atm-substitution&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="fSubst" class="idref" href="#fSubst"><span class="id" title="definition">fSubst</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#Subst.formula"><span class="id" title="variable">formula</span></a>. <span class="comment">(*&nbsp;FV-substitution&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="afSubst" class="idref" href="#afSubst"><span class="id" title="definition">afSubst</span></a> : <span class="id" title="keyword">Type</span> := <a class="idref" href="DC.Lang.html#aSubst"><span class="id" title="definition">aSubst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="DC.Lang.html#fSubst"><span class="id" title="definition">fSubst</span></a>. <span class="comment">(*&nbsp;AtmFV-substition&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="DC.Lang.html#Subst"><span class="id" title="section">Subst</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Subvar" class="idref" href="#Subvar"><span class="id" title="section">Subvar</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="L:86" class="idref" href="#L:86"><span class="id" title="binder">L</span></a> : <a class="idref" href="DC.Lang.html#FLANG"><span class="id" title="class">FLANG</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="Ix:87" class="idref" href="#Ix:87"><span class="id" title="binder">Ix</span></a> : <span class="id" title="keyword">Type</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="Var:88" class="idref" href="#Var:88"><span class="id" title="binder">Var</span></a> : <a class="idref" href="DC.Lang.html#Subvar.Ix"><span class="id" title="variable">Ix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#Subvar.expr"><span class="id" title="variable">expr</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="SVAR:89" class="idref" href="#SVAR:89"><span class="id" title="binder">SVAR</span></a> : <a class="idref" href="DC.Lang.html#IXEXP"><span class="id" title="class">IXEXP</span></a> <a class="idref" href="DC.Lang.html#Subvar.Var"><span class="id" title="variable">Var</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Var_dec_Var" class="idref" href="#Var_dec_Var"><span class="id" title="lemma">Var_dec_Var</span></a> (<a id="T:90" class="idref" href="#T:90"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span>) (<a id="f:91" class="idref" href="#f:91"><span class="id" title="binder">f</span></a> : <a class="idref" href="DC.Lang.html#Subvar.Ix"><span class="id" title="variable">Ix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#T:90"><span class="id" title="variable">T</span></a>) (<a id="t:92" class="idref" href="#t:92"><span class="id" title="binder">t</span></a> : <a class="idref" href="DC.Lang.html#T:90"><span class="id" title="variable">T</span></a>) : <span class="id" title="keyword">forall</span> <a id="V:93" class="idref" href="#V:93"><span class="id" title="binder">V</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> (<a class="idref" href="DC.Lang.html#Subvar.Var"><span class="id" title="variable">Var</span></a> <a class="idref" href="DC.Lang.html#V:93"><span class="id" title="variable">V</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inleft"><span class="id" title="constructor">inleft</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">W</span> <span class="id" title="var">_</span>) =&gt; <a class="idref" href="DC.Lang.html#f:91"><span class="id" title="variable">f</span></a> <span class="id" title="var">W</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inright"><span class="id" title="constructor">inright</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="DC.Lang.html#t:92"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="DC.Lang.html#f:91"><span class="id" title="variable">f</span></a> <a class="idref" href="DC.Lang.html#V:93"><span class="id" title="variable">V</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">V</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> (<a class="idref" href="DC.Lang.html#Subvar.Var"><span class="id" title="variable">Var</span></a> <span class="id" title="var">V</span>)) <span class="id" title="keyword">as</span> [[<span class="id" title="var">V0</span> <span class="id" title="var">HV0</span>]|<span class="id" title="var">HnVar</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="DC.Lang.html#Var_inj"><span class="id" title="method">Var_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HV0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HV0</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">HnVar</span> <span class="id" title="var">V</span>). <span class="id" title="var">contradict</span> <span class="id" title="var">HnVar</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Var_dec_Var_2" class="idref" href="#Var_dec_Var_2"><span class="id" title="lemma">Var_dec_Var_2</span></a> (<a id="T:94" class="idref" href="#T:94"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span>) (<a id="a:95" class="idref" href="#a:95"><span class="id" title="binder">a</span></a> <a id="b:96" class="idref" href="#b:96"><span class="id" title="binder">b</span></a> : <a class="idref" href="DC.Lang.html#T:94"><span class="id" title="variable">T</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="v:97" class="idref" href="#v:97"><span class="id" title="binder">v</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="keyword">if</span> <a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> (<a class="idref" href="DC.Lang.html#Subvar.Var"><span class="id" title="variable">Var</span></a> <a class="idref" href="DC.Lang.html#v:97"><span class="id" title="variable">v</span></a>) <span class="id" title="keyword">then</span> <a class="idref" href="DC.Lang.html#a:95"><span class="id" title="variable">a</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="DC.Lang.html#b:96"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="DC.Lang.html#a:95"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> (<a class="idref" href="DC.Lang.html#Subvar.Var"><span class="id" title="variable">Var</span></a> <span class="id" title="var">v</span>)) <span class="id" title="keyword">as</span> [[<span class="id" title="var">v0</span> <span class="id" title="var">Hv0</span>]|<span class="id" title="var">HnVar</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">HnVar</span> <span class="id" title="var">v</span>). <span class="id" title="var">contradict</span> <span class="id" title="var">HnVar</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Var_dec_not_Var" class="idref" href="#Var_dec_not_Var"><span class="id" title="lemma">Var_dec_not_Var</span></a> (<a id="T:98" class="idref" href="#T:98"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span>) (<a id="f:99" class="idref" href="#f:99"><span class="id" title="binder">f</span></a> : <a class="idref" href="DC.Lang.html#Subvar.Ix"><span class="id" title="variable">Ix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#T:98"><span class="id" title="variable">T</span></a>) (<a id="t:100" class="idref" href="#t:100"><span class="id" title="binder">t</span></a> : <a class="idref" href="DC.Lang.html#T:98"><span class="id" title="variable">T</span></a>) (<a id="A:101" class="idref" href="#A:101"><span class="id" title="binder">A</span></a> : <a class="idref" href="DC.Lang.html#Subvar.expr"><span class="id" title="variable">expr</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="V:102" class="idref" href="#V:102"><span class="id" title="binder">V</span></a>, <a class="idref" href="DC.Lang.html#A:101"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="DC.Lang.html#Subvar.Var"><span class="id" title="variable">Var</span></a> <a class="idref" href="DC.Lang.html#V:102"><span class="id" title="variable">V</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#A:101"><span class="id" title="variable">A</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inleft"><span class="id" title="constructor">inleft</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">V</span> <span class="id" title="var">_</span>) =&gt; <a class="idref" href="DC.Lang.html#f:99"><span class="id" title="variable">f</span></a> <span class="id" title="var">V</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inright"><span class="id" title="constructor">inright</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="DC.Lang.html#t:100"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="DC.Lang.html#t:100"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <span class="id" title="var">A</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">V</span> <span class="id" title="var">HV</span>]|<span class="id" title="var">HnVar</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">HV</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Retrieve&nbsp;all&nbsp;Vars&nbsp;of&nbsp;an&nbsp;expr&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="allVars" class="idref" href="#allVars"><span class="id" title="definition">allVars</span></a> : <a class="idref" href="DC.Lang.html#Subvar.expr"><span class="id" title="variable">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="DC.Lang.html#Subvar.Ix"><span class="id" title="variable">Ix</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#ipse_rect"><span class="id" title="method">ipse_rect</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="A:103" class="idref" href="#A:103"><span class="id" title="binder">A</span></a> <a id="IH:104" class="idref" href="#IH:104"><span class="id" title="binder">IH</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#A:103"><span class="id" title="variable">A</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inleft"><span class="id" title="constructor">inleft</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">p</span> <span class="id" title="var">_</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inright"><span class="id" title="constructor">inright</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="DC.Utils.html#list_union"><span class="id" title="definition">list_union</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:103"><span class="id" title="variable">A</span></a>) (<span class="id" title="keyword">fun</span> <a id="B:105" class="idref" href="#B:105"><span class="id" title="binder">B</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a> <a class="idref" href="DC.EqDec.html#eqdec"><span class="id" title="method">eqdec</span></a> <a class="idref" href="DC.Lang.html#B:105"><span class="id" title="variable">B</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:103"><span class="id" title="variable">A</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">Hin</span> =&gt; <a class="idref" href="DC.Lang.html#IH:104"><span class="id" title="variable">IH</span></a> <a class="idref" href="DC.Lang.html#B:105"><span class="id" title="variable">B</span></a> <span class="id" title="var">Hin</span> | <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span>  =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="keyword">end</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="allVars_eq'" class="idref" href="#allVars_eq'"><span class="id" title="lemma">allVars_eq'</span></a> (<a id="A:106" class="idref" href="#A:106"><span class="id" title="binder">A</span></a> : <a class="idref" href="DC.Lang.html#Subvar.expr"><span class="id" title="variable">expr</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#allVars"><span class="id" title="definition">allVars</span></a> <a class="idref" href="DC.Lang.html#A:106"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#A:106"><span class="id" title="variable">A</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inleft"><span class="id" title="constructor">inleft</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">p</span> <span class="id" title="var">_</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inright"><span class="id" title="constructor">inright</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="DC.Utils.html#list_union"><span class="id" title="definition">list_union</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:106"><span class="id" title="variable">A</span></a>) (<span class="id" title="keyword">fun</span> <a id="B:107" class="idref" href="#B:107"><span class="id" title="binder">B</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a> <a class="idref" href="DC.EqDec.html#eqdec"><span class="id" title="method">eqdec</span></a> <a class="idref" href="DC.Lang.html#B:107"><span class="id" title="variable">B</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:106"><span class="id" title="variable">A</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="DC.Lang.html#allVars"><span class="id" title="definition">allVars</span></a> <a class="idref" href="DC.Lang.html#B:107"><span class="id" title="variable">B</span></a> | <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span>  =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="keyword">end</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="DC.Lang.html#allVars"><span class="id" title="definition">allVars</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#ipse_rect_cmp"><span class="id" title="method">ipse_rect_cmp</span></a>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="allVars_eq" class="idref" href="#allVars_eq"><span class="id" title="lemma">allVars_eq</span></a> (<a id="A:108" class="idref" href="#A:108"><span class="id" title="binder">A</span></a> : <a class="idref" href="DC.Lang.html#Subvar.expr"><span class="id" title="variable">expr</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#allVars"><span class="id" title="definition">allVars</span></a> <a class="idref" href="DC.Lang.html#A:108"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#A:108"><span class="id" title="variable">A</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inleft"><span class="id" title="constructor">inleft</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">p</span> <span class="id" title="var">_</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inright"><span class="id" title="constructor">inright</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="DC.Utils.html#list_union"><span class="id" title="definition">list_union</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:108"><span class="id" title="variable">A</span></a>) <a class="idref" href="DC.Lang.html#allVars"><span class="id" title="definition">allVars</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#allVars_eq'"><span class="id" title="lemma">allVars_eq'</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Utils.html#union_in_dec"><span class="id" title="lemma">union_in_dec</span></a>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="isVar" class="idref" href="#isVar"><span class="id" title="definition, inductive"><span id="isVar_ind" class="id"><span id="isVar_sind" class="id">isVar</span></span></span></a> : <a class="idref" href="DC.Lang.html#Subvar.expr"><span class="id" title="variable">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> := <a id="isVar_intro" class="idref" href="#isVar_intro"><span class="id" title="constructor">isVar_intro</span></a> : <span class="id" title="keyword">forall</span> <a id="v:111" class="idref" href="#v:111"><span class="id" title="binder">v</span></a>, <a class="idref" href="DC.Lang.html#isVar:109"><span class="id" title="inductive">isVar</span></a> (<a class="idref" href="DC.Lang.html#Subvar.Var"><span class="id" title="variable">Var</span></a> <a class="idref" href="DC.Lang.html#v:111"><span class="id" title="variable">v</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="CtnsVar" class="idref" href="#CtnsVar"><span class="id" title="definition, inductive"><span id="CtnsVar_ind" class="id"><span id="CtnsVar_sind" class="id">CtnsVar</span></span></span></a> : <a class="idref" href="DC.Lang.html#Subvar.expr"><span class="id" title="variable">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="CtnsVar_isVar" class="idref" href="#CtnsVar_isVar"><span class="id" title="constructor">CtnsVar_isVar</span></a> : <span class="id" title="keyword">forall</span> <a id="v:114" class="idref" href="#v:114"><span class="id" title="binder">v</span></a>, <a class="idref" href="DC.Lang.html#CtnsVar:112"><span class="id" title="inductive">CtnsVar</span></a> (<a class="idref" href="DC.Lang.html#Subvar.Var"><span class="id" title="variable">Var</span></a> <a class="idref" href="DC.Lang.html#v:114"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;| <a id="CtnsVar_inips" class="idref" href="#CtnsVar_inips"><span class="id" title="constructor">CtnsVar_inips</span></a> : <span class="id" title="keyword">forall</span> <a id="A:115" class="idref" href="#A:115"><span class="id" title="binder">A</span></a> <a id="A':116" class="idref" href="#A':116"><span class="id" title="binder">A'</span></a>, <a class="idref" href="DC.Lang.html#A':116"><span class="id" title="variable">A'</span></a> <a class="idref" href="DC.ListSetNotations.html#b018a66e1e5f3a3e69df51e53be82ded"><span class="id" title="notation">∈</span></a> <a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:115"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#CtnsVar:112"><span class="id" title="inductive">CtnsVar</span></a> <a class="idref" href="DC.Lang.html#A':116"><span class="id" title="variable">A'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#CtnsVar:112"><span class="id" title="inductive">CtnsVar</span></a> <a class="idref" href="DC.Lang.html#A:115"><span class="id" title="variable">A</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="noVar" class="idref" href="#noVar"><span class="id" title="definition, inductive"><span id="noVar_ind" class="id"><span id="noVar_sind" class="id">noVar</span></span></span></a> : <a class="idref" href="DC.Lang.html#Subvar.expr"><span class="id" title="variable">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="noVar_intro" class="idref" href="#noVar_intro"><span class="id" title="constructor">noVar_intro</span></a> : <span class="id" title="keyword">forall</span> <a id="A:119" class="idref" href="#A:119"><span class="id" title="binder">A</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="A':120" class="idref" href="#A':120"><span class="id" title="binder">A'</span></a>, <a class="idref" href="DC.Lang.html#A':120"><span class="id" title="variable">A'</span></a> <a class="idref" href="DC.ListSetNotations.html#b018a66e1e5f3a3e69df51e53be82ded"><span class="id" title="notation">∈</span></a> <a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:119"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#noVar:117"><span class="id" title="inductive">noVar</span></a> <a class="idref" href="DC.Lang.html#A':120"><span class="id" title="variable">A'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="DC.Lang.html#isVar"><span class="id" title="inductive">isVar</span></a> <a class="idref" href="DC.Lang.html#A:119"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#noVar:117"><span class="id" title="inductive">noVar</span></a> <a class="idref" href="DC.Lang.html#A:119"><span class="id" title="variable">A</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="isVar_cpt" class="idref" href="#isVar_cpt"><span class="id" title="definition">isVar_cpt</span></a> (<a id="A:121" class="idref" href="#A:121"><span class="id" title="binder">A</span></a> : <a class="idref" href="DC.Lang.html#Subvar.expr"><span class="id" title="variable">expr</span></a>) : <span class="id" title="keyword">Prop</span> := <span class="id" title="keyword">if</span> <a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#A:121"><span class="id" title="variable">A</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="isVar_iff_isVar_cpt" class="idref" href="#isVar_iff_isVar_cpt"><span class="id" title="lemma">isVar_iff_isVar_cpt</span></a> : <span class="id" title="keyword">forall</span> <a id="A:122" class="idref" href="#A:122"><span class="id" title="binder">A</span></a>, <a class="idref" href="DC.Lang.html#isVar"><span class="id" title="inductive">isVar</span></a> <a class="idref" href="DC.Lang.html#A:122"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="DC.Lang.html#isVar_cpt"><span class="id" title="definition">isVar_cpt</span></a> <a class="idref" href="DC.Lang.html#A:122"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="DC.Lang.html#isVar_cpt"><span class="id" title="definition">isVar_cpt</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#Var_dec_Var_2"><span class="id" title="lemma">Var_dec_Var_2</span></a>. <span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">Logic.I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="DC.Lang.html#isVar_cpt"><span class="id" title="definition">isVar_cpt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <span class="id" title="var">A</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">v</span> <span class="id" title="var">Hv</span>]|<span class="id" title="var">HnVar</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hv</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="CtnsVar_cpt" class="idref" href="#CtnsVar_cpt"><span class="id" title="definition">CtnsVar_cpt</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#ipse_rect"><span class="id" title="method">ipse_rect</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="A:123" class="idref" href="#A:123"><span class="id" title="binder">A</span></a> <a id="IH:124" class="idref" href="#IH:124"><span class="id" title="binder">IH</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#A:123"><span class="id" title="variable">A</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> <a id="B:125" class="idref" href="#B:125"><span class="id" title="binder">B</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#or"><span class="id" title="inductive">or</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a> <a class="idref" href="DC.EqDec.html#eqdec"><span class="id" title="method">eqdec</span></a> <a class="idref" href="DC.Lang.html#B:125"><span class="id" title="variable">B</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:123"><span class="id" title="variable">A</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">Hin</span> =&gt; <a class="idref" href="DC.Lang.html#IH:124"><span class="id" title="variable">IH</span></a> <a class="idref" href="DC.Lang.html#B:125"><span class="id" title="variable">B</span></a> <span class="id" title="var">Hin</span> | <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span>  =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> <span class="id" title="keyword">end</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:123"><span class="id" title="variable">A</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="CtnsVar_cpt_eq'" class="idref" href="#CtnsVar_cpt_eq'"><span class="id" title="lemma">CtnsVar_cpt_eq'</span></a> (<a id="A:126" class="idref" href="#A:126"><span class="id" title="binder">A</span></a> : <a class="idref" href="DC.Lang.html#Subvar.expr"><span class="id" title="variable">expr</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#CtnsVar_cpt"><span class="id" title="definition">CtnsVar_cpt</span></a> <a class="idref" href="DC.Lang.html#A:126"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#A:126"><span class="id" title="variable">A</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> <a id="B:127" class="idref" href="#B:127"><span class="id" title="binder">B</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#or"><span class="id" title="inductive">or</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a> <a class="idref" href="DC.EqDec.html#eqdec"><span class="id" title="method">eqdec</span></a> <a class="idref" href="DC.Lang.html#B:127"><span class="id" title="variable">B</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:126"><span class="id" title="variable">A</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">Hin</span> =&gt; <a class="idref" href="DC.Lang.html#CtnsVar_cpt"><span class="id" title="definition">CtnsVar_cpt</span></a> <a class="idref" href="DC.Lang.html#B:127"><span class="id" title="variable">B</span></a> | <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span>  =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> <span class="id" title="keyword">end</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:126"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="DC.Lang.html#CtnsVar_cpt"><span class="id" title="definition">CtnsVar_cpt</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#ipse_rect_cmp"><span class="id" title="method">ipse_rect_cmp</span></a>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="CtnsVar_cpt_eq" class="idref" href="#CtnsVar_cpt_eq"><span class="id" title="lemma">CtnsVar_cpt_eq</span></a> (<a id="A:128" class="idref" href="#A:128"><span class="id" title="binder">A</span></a> : <a class="idref" href="DC.Lang.html#Subvar.expr"><span class="id" title="variable">expr</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#CtnsVar_cpt"><span class="id" title="definition">CtnsVar_cpt</span></a> <a class="idref" href="DC.Lang.html#A:128"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#A:128"><span class="id" title="variable">A</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> <a id="B:129" class="idref" href="#B:129"><span class="id" title="binder">B</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#or"><span class="id" title="inductive">or</span></a> (<a class="idref" href="DC.Lang.html#CtnsVar_cpt"><span class="id" title="definition">CtnsVar_cpt</span></a> <a class="idref" href="DC.Lang.html#B:129"><span class="id" title="variable">B</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:128"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#CtnsVar_cpt_eq'"><span class="id" title="lemma">CtnsVar_cpt_eq'</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Utils.html#fold_right_in_dec"><span class="id" title="lemma">fold_right_in_dec</span></a>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="CtnsVar_iff_CtnsVar_cpt" class="idref" href="#CtnsVar_iff_CtnsVar_cpt"><span class="id" title="lemma">CtnsVar_iff_CtnsVar_cpt</span></a> : <span class="id" title="keyword">forall</span> <a id="A:130" class="idref" href="#A:130"><span class="id" title="binder">A</span></a>, <a class="idref" href="DC.Lang.html#CtnsVar"><span class="id" title="inductive">CtnsVar</span></a> <a class="idref" href="DC.Lang.html#A:130"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="DC.Lang.html#CtnsVar_cpt"><span class="id" title="definition">CtnsVar_cpt</span></a> <a class="idref" href="DC.Lang.html#A:130"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>; [<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#CtnsVar_cpt_eq"><span class="id" title="lemma">CtnsVar_cpt_eq</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#Var_dec_Var_2"><span class="id" title="lemma">Var_dec_Var_2</span></a>. <span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">Logic.I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <span class="id" title="var">A</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">v</span> <span class="id" title="var">Hv</span>]|<span class="id" title="var">HnVar</span>]; [<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">Logic.I</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Exists_fold_right"><span class="id" title="lemma">Exists_fold_right</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">A'</span>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">revert</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">pattern</span> <span class="id" title="var">A</span>. <span class="id" title="var">revert</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="DC.Lang.html#ipse_rect"><span class="id" title="method">ipse_rect</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">IH</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#CtnsVar_cpt_eq"><span class="id" title="lemma">CtnsVar_cpt_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <span class="id" title="var">A</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">v</span> <span class="id" title="var">Hv</span>]|<span class="id" title="var">HnVar</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hv</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="DC.Lang.html#CtnsVar_isVar"><span class="id" title="constructor">CtnsVar_isVar</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Exists_fold_right"><span class="id" title="lemma">Exists_fold_right</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">A'</span> [<span class="id" title="var">Hin</span> <span class="id" title="var">HA'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="DC.Lang.html#CtnsVar_inips"><span class="id" title="constructor">CtnsVar_inips</span></a> <span class="id" title="var">A</span> <span class="id" title="var">A'</span>); [<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="noVar_cpt" class="idref" href="#noVar_cpt"><span class="id" title="definition">noVar_cpt</span></a> : <a class="idref" href="DC.Lang.html#Subvar.expr"><span class="id" title="variable">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#ipse_rect"><span class="id" title="method">ipse_rect</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="A:131" class="idref" href="#A:131"><span class="id" title="binder">A</span></a> <a id="IH:132" class="idref" href="#IH:132"><span class="id" title="binder">IH</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#A:131"><span class="id" title="variable">A</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inleft"><span class="id" title="constructor">inleft</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">V</span> <span class="id" title="var">_</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inright"><span class="id" title="constructor">inright</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> <a id="B:133" class="idref" href="#B:133"><span class="id" title="binder">B</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#and"><span class="id" title="inductive">and</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a> <a class="idref" href="DC.EqDec.html#eqdec"><span class="id" title="method">eqdec</span></a> <a class="idref" href="DC.Lang.html#B:133"><span class="id" title="variable">B</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:131"><span class="id" title="variable">A</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">Hin</span> =&gt; <a class="idref" href="DC.Lang.html#IH:132"><span class="id" title="variable">IH</span></a> <a class="idref" href="DC.Lang.html#B:133"><span class="id" title="variable">B</span></a> <span class="id" title="var">Hin</span> | <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span>  =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a> <span class="id" title="keyword">end</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:131"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="noVar_cpt_eq'" class="idref" href="#noVar_cpt_eq'"><span class="id" title="lemma">noVar_cpt_eq'</span></a> (<a id="A:134" class="idref" href="#A:134"><span class="id" title="binder">A</span></a> : <a class="idref" href="DC.Lang.html#Subvar.expr"><span class="id" title="variable">expr</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#noVar_cpt"><span class="id" title="definition">noVar_cpt</span></a> <a class="idref" href="DC.Lang.html#A:134"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#A:134"><span class="id" title="variable">A</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inleft"><span class="id" title="constructor">inleft</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">V</span> <span class="id" title="var">_</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inright"><span class="id" title="constructor">inright</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> <a id="B:135" class="idref" href="#B:135"><span class="id" title="binder">B</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#and"><span class="id" title="inductive">and</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a> <a class="idref" href="DC.EqDec.html#eqdec"><span class="id" title="method">eqdec</span></a> <a class="idref" href="DC.Lang.html#B:135"><span class="id" title="variable">B</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:134"><span class="id" title="variable">A</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="DC.Lang.html#noVar_cpt"><span class="id" title="definition">noVar_cpt</span></a> <a class="idref" href="DC.Lang.html#B:135"><span class="id" title="variable">B</span></a> | <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span>  =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a> <span class="id" title="keyword">end</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:134"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="DC.Lang.html#noVar_cpt"><span class="id" title="definition">noVar_cpt</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#ipse_rect_cmp"><span class="id" title="method">ipse_rect_cmp</span></a>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="noVar_cpt_eq" class="idref" href="#noVar_cpt_eq"><span class="id" title="lemma">noVar_cpt_eq</span></a> (<a id="A:136" class="idref" href="#A:136"><span class="id" title="binder">A</span></a> : <a class="idref" href="DC.Lang.html#Subvar.expr"><span class="id" title="variable">expr</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#noVar_cpt"><span class="id" title="definition">noVar_cpt</span></a> <a class="idref" href="DC.Lang.html#A:136"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#A:136"><span class="id" title="variable">A</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inleft"><span class="id" title="constructor">inleft</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">V</span> <span class="id" title="var">_</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inright"><span class="id" title="constructor">inright</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> <a id="B:137" class="idref" href="#B:137"><span class="id" title="binder">B</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#and"><span class="id" title="inductive">and</span></a> (<a class="idref" href="DC.Lang.html#noVar_cpt"><span class="id" title="definition">noVar_cpt</span></a> <a class="idref" href="DC.Lang.html#B:137"><span class="id" title="variable">B</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:136"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#noVar_cpt_eq'"><span class="id" title="lemma">noVar_cpt_eq'</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Utils.html#fold_right_in_dec"><span class="id" title="lemma">fold_right_in_dec</span></a>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="isVar_not_noVar" class="idref" href="#isVar_not_noVar"><span class="id" title="lemma">isVar_not_noVar</span></a> (<a id="A:138" class="idref" href="#A:138"><span class="id" title="binder">A</span></a> : <a class="idref" href="DC.Lang.html#Subvar.expr"><span class="id" title="variable">expr</span></a>) : <a class="idref" href="DC.Lang.html#isVar"><span class="id" title="inductive">isVar</span></a> <a class="idref" href="DC.Lang.html#A:138"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="DC.Lang.html#noVar"><span class="id" title="inductive">noVar</span></a> <a class="idref" href="DC.Lang.html#A:138"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">His</span> <span class="id" title="var">Hno</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hno</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span> <span class="id" title="var">H0</span>]. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="not_isVar_iff" class="idref" href="#not_isVar_iff"><span class="id" title="lemma">not_isVar_iff</span></a> (<a id="A:139" class="idref" href="#A:139"><span class="id" title="binder">A</span></a> : <a class="idref" href="DC.Lang.html#Subvar.expr"><span class="id" title="variable">expr</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="DC.Lang.html#isVar"><span class="id" title="inductive">isVar</span></a> <a class="idref" href="DC.Lang.html#A:139"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="v:140" class="idref" href="#v:140"><span class="id" title="binder">v</span></a>, <a class="idref" href="DC.Lang.html#A:139"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="DC.Lang.html#Subvar.Var"><span class="id" title="variable">Var</span></a> <a class="idref" href="DC.Lang.html#v:140"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">His</span> <span class="id" title="var">v</span> <span class="id" title="var">Heq</span>. <span class="id" title="var">contradict</span> <span class="id" title="var">His</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hall</span> <span class="id" title="var">His</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">His</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span>]. <span class="id" title="tactic">apply</span> (<span class="id" title="var">Hall</span> <span class="id" title="var">x</span>). <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="noVar_iff_noVar_cpt" class="idref" href="#noVar_iff_noVar_cpt"><span class="id" title="lemma">noVar_iff_noVar_cpt</span></a> : <span class="id" title="keyword">forall</span> <a id="A:141" class="idref" href="#A:141"><span class="id" title="binder">A</span></a>, <a class="idref" href="DC.Lang.html#noVar"><span class="id" title="inductive">noVar</span></a> <a class="idref" href="DC.Lang.html#A:141"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="DC.Lang.html#noVar_cpt"><span class="id" title="definition">noVar_cpt</span></a> <a class="idref" href="DC.Lang.html#A:141"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#noVar_cpt_eq"><span class="id" title="lemma">noVar_cpt_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <span class="id" title="var">A</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">v</span> <span class="id" title="var">Hv</span>]|<span class="id" title="var">HnVar</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">contradict</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hv</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall_fold_right"><span class="id" title="lemma">Forall_fold_right</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">Forall_forall</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">pattern</span> <span class="id" title="var">A</span>. <span class="id" title="var">revert</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="DC.Lang.html#ipse_rect"><span class="id" title="method">ipse_rect</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">IH</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#noVar_cpt_eq"><span class="id" title="lemma">noVar_cpt_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <span class="id" title="var">A</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">v</span> <span class="id" title="var">Hv</span>]|<span class="id" title="var">HnVar</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> <span class="id" title="var">A'</span> <span class="id" title="var">HA'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall_fold_right"><span class="id" title="lemma">Forall_fold_right</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">Forall_forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="DC.Lang.html#not_isVar_iff"><span class="id" title="lemma">not_isVar_iff</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="not_CtnsVar_noVar" class="idref" href="#not_CtnsVar_noVar"><span class="id" title="lemma">not_CtnsVar_noVar</span></a> (<a id="A:142" class="idref" href="#A:142"><span class="id" title="binder">A</span></a> : <a class="idref" href="DC.Lang.html#Subvar.expr"><span class="id" title="variable">expr</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="DC.Lang.html#CtnsVar"><span class="id" title="inductive">CtnsVar</span></a> <a class="idref" href="DC.Lang.html#A:142"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="DC.Lang.html#noVar"><span class="id" title="inductive">noVar</span></a> <a class="idref" href="DC.Lang.html#A:142"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="DC.Lang.html#ipse_rect"><span class="id" title="method">ipse_rect</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <span class="id" title="var">A</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">v</span> <span class="id" title="var">Hv</span>]|<span class="id" title="var">HnVar</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">contradict</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hv</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="DC.Lang.html#CtnsVar_isVar"><span class="id" title="constructor">CtnsVar_isVar</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="DC.Lang.html#not_isVar_iff"><span class="id" title="lemma">not_isVar_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A'</span> <span class="id" title="var">HA'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hctr</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="DC.Lang.html#CtnsVar_inips"><span class="id" title="constructor">CtnsVar_inips</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hno</span> <span class="id" title="var">Hctns</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hno</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">A</span> <span class="id" title="var">Hnoips</span> <span class="id" title="var">Hneq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hctns</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span>|<span class="id" title="var">A</span> <span class="id" title="var">A'</span> <span class="id" title="var">Hin</span> <span class="id" title="var">HA'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">contradict</span> <span class="id" title="var">Hneq</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">revert</span> <span class="id" title="var">HA'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hnoips</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="noVar_ipse" class="idref" href="#noVar_ipse"><span class="id" title="lemma">noVar_ipse</span></a> (<a id="A:143" class="idref" href="#A:143"><span class="id" title="binder">A</span></a> : <a class="idref" href="DC.Lang.html#Subvar.expr"><span class="id" title="variable">expr</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="V:144" class="idref" href="#V:144"><span class="id" title="binder">V</span></a>, <a class="idref" href="DC.Lang.html#A:143"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="DC.Lang.html#Subvar.Var"><span class="id" title="variable">Var</span></a> <a class="idref" href="DC.Lang.html#V:144"><span class="id" title="variable">V</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#noVar"><span class="id" title="inductive">noVar</span></a> <a class="idref" href="DC.Lang.html#A:143"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="DC.Lang.html#noVar"><span class="id" title="inductive">noVar</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:143"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">HnVar</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">HnVar</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#not_isVar_iff"><span class="id" title="lemma">not_isVar_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">Forall_forall</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hall</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="DC.Lang.html#not_isVar_iff"><span class="id" title="lemma">not_isVar_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">Forall_forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hall</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="DC.Lang.html#noVar_intro"><span class="id" title="constructor">noVar_intro</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="not_Var_conn" class="idref" href="#not_Var_conn"><span class="id" title="lemma">not_Var_conn</span></a> (<a id="A:145" class="idref" href="#A:145"><span class="id" title="binder">A</span></a> : <a class="idref" href="DC.Lang.html#Subvar.expr"><span class="id" title="variable">expr</span></a>) (<a id="l:146" class="idref" href="#l:146"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="DC.Lang.html#Subvar.expr"><span class="id" title="variable">expr</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="DC.Lang.html#l:146"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:145"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="V:147" class="idref" href="#V:147"><span class="id" title="binder">V</span></a>, <a class="idref" href="DC.Lang.html#A:145"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="DC.Lang.html#Subvar.Var"><span class="id" title="variable">Var</span></a> <a class="idref" href="DC.Lang.html#V:147"><span class="id" title="variable">V</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">forall</span> <a id="V:148" class="idref" href="#V:148"><span class="id" title="binder">V</span></a>, <a class="idref" href="DC.Lang.html#conn"><span class="id" title="method">conn</span></a> <a class="idref" href="DC.Lang.html#A:145"><span class="id" title="variable">A</span></a> <a class="idref" href="DC.Lang.html#l:146"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="DC.Lang.html#Subvar.Var"><span class="id" title="variable">Var</span></a> <a class="idref" href="DC.Lang.html#V:148"><span class="id" title="variable">V</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">HnVar</span> <span class="id" title="var">V</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">HnVar</span> <span class="id" title="var">V</span>). <span class="id" title="var">contradict</span> <span class="id" title="var">HnVar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="DC.Lang.html#conn_ipse"><span class="id" title="method">conn_ipse</span></a> (<a class="idref" href="DC.Lang.html#Subvar.Var"><span class="id" title="variable">Var</span></a> <span class="id" title="var">V</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">HnVar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#Var_ipse"><span class="id" title="method">Var_ipse</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HnVar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.Lang.html#conn_inj"><span class="id" title="method">conn_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HnVar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">HnVar</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heqconn</span> <span class="id" title="var">Heql</span>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heql</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlen</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#length_zero_iff_nil"><span class="id" title="lemma">length_zero_iff_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="DC.Lang.html#conn_ipse"><span class="id" title="method">conn_ipse</span></a> <span class="id" title="var">A</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqconn</span>, <span class="id" title="var">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="DC.Lang.html#conn_ipse"><span class="id" title="method">conn_ipse</span></a> (<a class="idref" href="DC.Lang.html#Subvar.Var"><span class="id" title="variable">Var</span></a> <span class="id" title="var">V</span>)) <span class="id" title="tactic">at</span> 2. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#Var_ipse"><span class="id" title="method">Var_ipse</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#Var_ipse"><span class="id" title="method">Var_ipse</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Var_inj_iff" class="idref" href="#Var_inj_iff"><span class="id" title="lemma">Var_inj_iff</span></a> : <span class="id" title="keyword">forall</span> <a id="v:149" class="idref" href="#v:149"><span class="id" title="binder">v</span></a> <a id="w:150" class="idref" href="#w:150"><span class="id" title="binder">w</span></a>, <a class="idref" href="DC.Lang.html#Subvar.Var"><span class="id" title="variable">Var</span></a> <a class="idref" href="DC.Lang.html#v:149"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="DC.Lang.html#Subvar.Var"><span class="id" title="variable">Var</span></a> <a class="idref" href="DC.Lang.html#w:150"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="DC.Lang.html#v:149"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="DC.Lang.html#w:150"><span class="id" title="variable">w</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">V</span> <span class="id" title="var">W</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="DC.Lang.html#Var_inj"><span class="id" title="method">Var_inj</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="conn_eq_Var" class="idref" href="#conn_eq_Var"><span class="id" title="lemma">conn_eq_Var</span></a> (<a id="E:151" class="idref" href="#E:151"><span class="id" title="binder">E</span></a> : <a class="idref" href="DC.Lang.html#Subvar.expr"><span class="id" title="variable">expr</span></a>) (<a id="l:152" class="idref" href="#l:152"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="DC.Lang.html#Subvar.expr"><span class="id" title="variable">expr</span></a>) (<a id="v:153" class="idref" href="#v:153"><span class="id" title="binder">v</span></a> : <a class="idref" href="DC.Lang.html#Subvar.Ix"><span class="id" title="variable">Ix</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="DC.Lang.html#l:152"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#E:151"><span class="id" title="variable">E</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#conn"><span class="id" title="method">conn</span></a> <a class="idref" href="DC.Lang.html#E:151"><span class="id" title="variable">E</span></a> <a class="idref" href="DC.Lang.html#l:152"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="DC.Lang.html#Subvar.Var"><span class="id" title="variable">Var</span></a> <a class="idref" href="DC.Lang.html#v:153"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#E:151"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="DC.Lang.html#Subvar.Var"><span class="id" title="variable">Var</span></a> <a class="idref" href="DC.Lang.html#v:153"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#conn_ipse"><span class="id" title="method">conn_ipse</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.Lang.html#conn_inj"><span class="id" title="method">conn_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Heq</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HeqX</span> <span class="id" title="var">Heql</span>]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#Var_ipse"><span class="id" title="method">Var_ipse</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heql</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heql</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlen</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="DC.Lang.html#conn_ipse"><span class="id" title="method">conn_ipse</span></a> <span class="id" title="var">E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <span class="id" title="var">E</span>); [|<span class="id" title="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="DC.Lang.html#conn_ipse"><span class="id" title="method">conn_ipse</span></a> (<a class="idref" href="DC.Lang.html#Subvar.Var"><span class="id" title="variable">Var</span></a> <span class="id" title="var">v</span>)). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HeqX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#Var_ipse"><span class="id" title="method">Var_ipse</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="DC.Lang.html#Subvar"><span class="id" title="section">Subvar</span></a>.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> {<span class="id" title="var">expr</span> <span class="id" title="var">ED</span> <span class="id" title="var">L</span> <span class="id" title="var">Ix</span>} (<span class="id" title="var">Var</span>) {<span class="id" title="var">IXEXP</span>}.<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="DC.Lang.html#Var_inj"><span class="id" title="method">Var_inj</span></a> {<span class="id" title="var">expr</span> <span class="id" title="var">ED</span> <span class="id" title="var">L</span> <span class="id" title="var">Ix</span>} (<span class="id" title="var">Var</span>) {<span class="id" title="var">IXEXP</span>}.<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="DC.Lang.html#Var_ipse"><span class="id" title="method">Var_ipse</span></a> {<span class="id" title="var">expr</span> <span class="id" title="var">ED</span> <span class="id" title="var">L</span> <span class="id" title="var">Ix</span>} (<span class="id" title="var">Var</span>) {<span class="id" title="var">IXEXP</span>}.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="SubstMore" class="idref" href="#SubstMore"><span class="id" title="section">SubstMore</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="LL:157" class="idref" href="#LL:157"><span class="id" title="binder">LL</span></a> : <a class="idref" href="DC.Lang.html#LOGLANG"><span class="id" title="class">LOGLANG</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="fmlAtms" class="idref" href="#fmlAtms"><span class="id" title="definition">fmlAtms</span></a> := <a class="idref" href="DC.Lang.html#allVars"><span class="id" title="definition">allVars</span></a> <a class="idref" href="DC.Lang.html#Atm"><span class="id" title="method">Atm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="fmlFVs" class="idref" href="#fmlFVs"><span class="id" title="definition">fmlFVs</span></a> := <a class="idref" href="DC.Lang.html#allVars"><span class="id" title="definition">allVars</span></a> <a class="idref" href="DC.Lang.html#FV"><span class="id" title="method">FV</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="fmlAtms_eq" class="idref" href="#fmlAtms_eq"><span class="id" title="definition">fmlAtms_eq</span></a> := <a class="idref" href="DC.Lang.html#allVars_eq"><span class="id" title="lemma">allVars_eq</span></a> <a class="idref" href="DC.Lang.html#Atm"><span class="id" title="method">Atm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="fmlFVs_eq" class="idref" href="#fmlFVs_eq"><span class="id" title="definition">fmlFVs_eq</span></a> := <a class="idref" href="DC.Lang.html#allVars_eq"><span class="id" title="lemma">allVars_eq</span></a> <a class="idref" href="DC.Lang.html#FV"><span class="id" title="method">FV</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;fmlNoFV&nbsp;A&nbsp;iff&nbsp;A&nbsp;has&nbsp;no&nbsp;formula&nbsp;variable&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="fmlNoFV" class="idref" href="#fmlNoFV"><span class="id" title="definition">fmlNoFV</span></a> := <a class="idref" href="DC.Lang.html#noVar"><span class="id" title="inductive">noVar</span></a> <a class="idref" href="DC.Lang.html#FV"><span class="id" title="method">FV</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="fmlNoFV_ipse" class="idref" href="#fmlNoFV_ipse"><span class="id" title="definition">fmlNoFV_ipse</span></a> := <a class="idref" href="DC.Lang.html#noVar_ipse"><span class="id" title="lemma">noVar_ipse</span></a> <a class="idref" href="DC.Lang.html#FV"><span class="id" title="method">FV</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Atm_dec_Atm" class="idref" href="#Atm_dec_Atm"><span class="id" title="definition">Atm_dec_Atm</span></a> {<a id="T:158" class="idref" href="#T:158"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span>} := <a class="idref" href="DC.Lang.html#Var_dec_Var"><span class="id" title="lemma">Var_dec_Var</span></a> <a class="idref" href="DC.Lang.html#Atm"><span class="id" title="method">Atm</span></a> <a class="idref" href="DC.Lang.html#T:158"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="FV_dec_FV" class="idref" href="#FV_dec_FV"><span class="id" title="definition">FV_dec_FV</span></a> {<a id="T:159" class="idref" href="#T:159"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span>} := <a class="idref" href="DC.Lang.html#Var_dec_Var"><span class="id" title="lemma">Var_dec_Var</span></a> <a class="idref" href="DC.Lang.html#FV"><span class="id" title="method">FV</span></a> <a class="idref" href="DC.Lang.html#T:159"><span class="id" title="variable">T</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Atm_dec_not_Atm" class="idref" href="#Atm_dec_not_Atm"><span class="id" title="definition">Atm_dec_not_Atm</span></a> {<a id="T:160" class="idref" href="#T:160"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span>} := <a class="idref" href="DC.Lang.html#Var_dec_not_Var"><span class="id" title="lemma">Var_dec_not_Var</span></a> <a class="idref" href="DC.Lang.html#Atm"><span class="id" title="method">Atm</span></a> <a class="idref" href="DC.Lang.html#T:160"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="FV_dec_not_FV" class="idref" href="#FV_dec_not_FV"><span class="id" title="definition">FV_dec_not_FV</span></a> {<a id="T:161" class="idref" href="#T:161"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span>} := <a class="idref" href="DC.Lang.html#Var_dec_not_Var"><span class="id" title="lemma">Var_dec_not_Var</span></a> <a class="idref" href="DC.Lang.html#FV"><span class="id" title="method">FV</span></a> <a class="idref" href="DC.Lang.html#T:161"><span class="id" title="variable">T</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="not_Atm_conn" class="idref" href="#not_Atm_conn"><span class="id" title="definition">not_Atm_conn</span></a> := <a class="idref" href="DC.Lang.html#not_Var_conn"><span class="id" title="lemma">not_Var_conn</span></a> <a class="idref" href="DC.Lang.html#Atm"><span class="id" title="method">Atm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="not_FV_conn" class="idref" href="#not_FV_conn"><span class="id" title="definition">not_FV_conn</span></a> := <a class="idref" href="DC.Lang.html#not_Var_conn"><span class="id" title="lemma">not_Var_conn</span></a> <a class="idref" href="DC.Lang.html#FV"><span class="id" title="method">FV</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Atm_inj_iff" class="idref" href="#Atm_inj_iff"><span class="id" title="definition">Atm_inj_iff</span></a> := <a class="idref" href="DC.Lang.html#Var_inj_iff"><span class="id" title="lemma">Var_inj_iff</span></a> <a class="idref" href="DC.Lang.html#Atm"><span class="id" title="method">Atm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="FV_inj_iff" class="idref" href="#FV_inj_iff"><span class="id" title="definition">FV_inj_iff</span></a> := <a class="idref" href="DC.Lang.html#Var_inj_iff"><span class="id" title="lemma">Var_inj_iff</span></a> <a class="idref" href="DC.Lang.html#FV"><span class="id" title="method">FV</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Substitution&nbsp;function&nbsp;that&nbsp;applies&nbsp;mappings&nbsp;of&nbsp;variables&nbsp;to&nbsp;a&nbsp;expr&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="fmlSubst" class="idref" href="#fmlSubst"><span class="id" title="definition">fmlSubst</span></a> (<a id="af:162" class="idref" href="#af:162"><span class="id" title="binder">af</span></a> : @<a class="idref" href="DC.Lang.html#afSubst"><span class="id" title="definition">afSubst</span></a> <a class="idref" href="DC.Lang.html#SubstMore.formula"><span class="id" title="variable">formula</span></a>) : <a class="idref" href="DC.Lang.html#SubstMore.formula"><span class="id" title="variable">formula</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#SubstMore.formula"><span class="id" title="variable">formula</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#ipse_rect"><span class="id" title="method">ipse_rect</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="A:163" class="idref" href="#A:163"><span class="id" title="binder">A</span></a> <a id="IH:164" class="idref" href="#IH:164"><span class="id" title="binder">IH</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#Atm"><span class="id" title="method">Atm</span></a> <a class="idref" href="DC.Lang.html#A:163"><span class="id" title="variable">A</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inleft"><span class="id" title="constructor">inleft</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">p</span> <span class="id" title="var">_</span>) =&gt; <a class="idref" href="DC.Lang.html#Atm"><span class="id" title="method">Atm</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="DC.Lang.html#af:162"><span class="id" title="variable">af</span></a> <span class="id" title="var">p</span>) | <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inright"><span class="id" title="constructor">inright</span></a> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#FV"><span class="id" title="method">FV</span></a> <a class="idref" href="DC.Lang.html#A:163"><span class="id" title="variable">A</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inleft"><span class="id" title="constructor">inleft</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">V</span> <span class="id" title="var">_</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="DC.Lang.html#af:162"><span class="id" title="variable">af</span></a> <span class="id" title="var">V</span> | <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inright"><span class="id" title="constructor">inright</span></a> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#conn"><span class="id" title="method">conn</span></a> <a class="idref" href="DC.Lang.html#A:163"><span class="id" title="variable">A</span></a> (<a class="idref" href="DC.Utils.html#list_union"><span class="id" title="definition">list_union</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:163"><span class="id" title="variable">A</span></a>) (<span class="id" title="keyword">fun</span> <a id="B:165" class="idref" href="#B:165"><span class="id" title="binder">B</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">match</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a> <a class="idref" href="DC.EqDec.html#eqdec"><span class="id" title="method">eqdec</span></a> <a class="idref" href="DC.Lang.html#B:165"><span class="id" title="variable">B</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:163"><span class="id" title="variable">A</span></a>)) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">Hin</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="DC.Lang.html#IH:164"><span class="id" title="variable">IH</span></a> <a class="idref" href="DC.Lang.html#B:165"><span class="id" title="variable">B</span></a> <span class="id" title="var">Hin</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> | <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="keyword">end</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="keyword">end</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fmlSubst_eq'" class="idref" href="#fmlSubst_eq'"><span class="id" title="lemma">fmlSubst_eq'</span></a> (<a id="af:166" class="idref" href="#af:166"><span class="id" title="binder">af</span></a> : @<a class="idref" href="DC.Lang.html#afSubst"><span class="id" title="definition">afSubst</span></a> <a class="idref" href="DC.Lang.html#SubstMore.formula"><span class="id" title="variable">formula</span></a>) (<a id="A:167" class="idref" href="#A:167"><span class="id" title="binder">A</span></a> : <a class="idref" href="DC.Lang.html#SubstMore.formula"><span class="id" title="variable">formula</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#fmlSubst"><span class="id" title="definition">fmlSubst</span></a> <a class="idref" href="DC.Lang.html#af:166"><span class="id" title="variable">af</span></a> <a class="idref" href="DC.Lang.html#A:167"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#Atm"><span class="id" title="method">Atm</span></a> <a class="idref" href="DC.Lang.html#A:167"><span class="id" title="variable">A</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inleft"><span class="id" title="constructor">inleft</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">p</span> <span class="id" title="var">_</span>) =&gt; <a class="idref" href="DC.Lang.html#Atm"><span class="id" title="method">Atm</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="DC.Lang.html#af:166"><span class="id" title="variable">af</span></a> <span class="id" title="var">p</span>) | <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inright"><span class="id" title="constructor">inright</span></a> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#FV"><span class="id" title="method">FV</span></a> <a class="idref" href="DC.Lang.html#A:167"><span class="id" title="variable">A</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inleft"><span class="id" title="constructor">inleft</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">V</span> <span class="id" title="var">_</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="DC.Lang.html#af:166"><span class="id" title="variable">af</span></a> <span class="id" title="var">V</span> | <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inright"><span class="id" title="constructor">inright</span></a> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#conn"><span class="id" title="method">conn</span></a> <a class="idref" href="DC.Lang.html#A:167"><span class="id" title="variable">A</span></a> (<a class="idref" href="DC.Utils.html#list_union"><span class="id" title="definition">list_union</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:167"><span class="id" title="variable">A</span></a>) (<span class="id" title="keyword">fun</span> <a id="B:168" class="idref" href="#B:168"><span class="id" title="binder">B</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a> <a class="idref" href="DC.EqDec.html#eqdec"><span class="id" title="method">eqdec</span></a> <a class="idref" href="DC.Lang.html#B:168"><span class="id" title="variable">B</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:167"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="DC.Lang.html#fmlSubst"><span class="id" title="definition">fmlSubst</span></a> <a class="idref" href="DC.Lang.html#af:166"><span class="id" title="variable">af</span></a> <a class="idref" href="DC.Lang.html#B:168"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="DC.Lang.html#fmlSubst"><span class="id" title="definition">fmlSubst</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#ipse_rect_cmp"><span class="id" title="method">ipse_rect_cmp</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fmlSubst_eq" class="idref" href="#fmlSubst_eq"><span class="id" title="lemma">fmlSubst_eq</span></a> (<a id="af:169" class="idref" href="#af:169"><span class="id" title="binder">af</span></a> : <a class="idref" href="DC.Lang.html#afSubst"><span class="id" title="definition">afSubst</span></a>) (<a id="A:170" class="idref" href="#A:170"><span class="id" title="binder">A</span></a> : <a class="idref" href="DC.Lang.html#SubstMore.formula"><span class="id" title="variable">formula</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#fmlSubst"><span class="id" title="definition">fmlSubst</span></a> <a class="idref" href="DC.Lang.html#af:169"><span class="id" title="variable">af</span></a> <a class="idref" href="DC.Lang.html#A:170"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#Atm"><span class="id" title="method">Atm</span></a> <a class="idref" href="DC.Lang.html#A:170"><span class="id" title="variable">A</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inleft"><span class="id" title="constructor">inleft</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">p</span> <span class="id" title="var">_</span>) =&gt; <a class="idref" href="DC.Lang.html#Atm"><span class="id" title="method">Atm</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="DC.Lang.html#af:169"><span class="id" title="variable">af</span></a> <span class="id" title="var">p</span>) | <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inright"><span class="id" title="constructor">inright</span></a> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#FV"><span class="id" title="method">FV</span></a> <a class="idref" href="DC.Lang.html#A:170"><span class="id" title="variable">A</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inleft"><span class="id" title="constructor">inleft</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">V</span> <span class="id" title="var">_</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="DC.Lang.html#af:169"><span class="id" title="variable">af</span></a> <span class="id" title="var">V</span> | <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inright"><span class="id" title="constructor">inright</span></a> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#conn"><span class="id" title="method">conn</span></a> <a class="idref" href="DC.Lang.html#A:170"><span class="id" title="variable">A</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="DC.Lang.html#fmlSubst"><span class="id" title="definition">fmlSubst</span></a> <a class="idref" href="DC.Lang.html#af:169"><span class="id" title="variable">af</span></a>) (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:170"><span class="id" title="variable">A</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#fmlSubst_eq'"><span class="id" title="lemma">fmlSubst_eq'</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Utils.html#union_in_dec_map"><span class="id" title="lemma">union_in_dec_map</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Composing&nbsp;substitutions&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="a_comp" class="idref" href="#a_comp"><span class="id" title="definition">a_comp</span></a> : <a class="idref" href="DC.Lang.html#aSubst"><span class="id" title="definition">aSubst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#aSubst"><span class="id" title="definition">aSubst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#aSubst"><span class="id" title="definition">aSubst</span></a> := <a class="idref" href="DC.Utils.html#comp"><span class="id" title="definition">comp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="f_comp" class="idref" href="#f_comp"><span class="id" title="definition">f_comp</span></a> (<a id="af1:171" class="idref" href="#af1:171"><span class="id" title="binder">af1</span></a> <a id="af2:172" class="idref" href="#af2:172"><span class="id" title="binder">af2</span></a> : <a class="idref" href="DC.Lang.html#afSubst"><span class="id" title="definition">afSubst</span></a>) : <a class="idref" href="DC.Lang.html#fSubst"><span class="id" title="definition">fSubst</span></a> := <span class="id" title="keyword">fun</span> <a id="V:173" class="idref" href="#V:173"><span class="id" title="binder">V</span></a> =&gt; <a class="idref" href="DC.Lang.html#fmlSubst"><span class="id" title="definition">fmlSubst</span></a> (<a class="idref" href="DC.Lang.html#af1:171"><span class="id" title="variable">af1</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="DC.Lang.html#af2:172"><span class="id" title="variable">af2</span></a> <a class="idref" href="DC.Lang.html#V:173"><span class="id" title="variable">V</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="af_comp" class="idref" href="#af_comp"><span class="id" title="definition">af_comp</span></a> (<a id="af1:174" class="idref" href="#af1:174"><span class="id" title="binder">af1</span></a> <a id="af2:175" class="idref" href="#af2:175"><span class="id" title="binder">af2</span></a> : <a class="idref" href="DC.Lang.html#afSubst"><span class="id" title="definition">afSubst</span></a>) : <a class="idref" href="DC.Lang.html#afSubst"><span class="id" title="definition">afSubst</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="DC.Lang.html#a_comp"><span class="id" title="definition">a_comp</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="DC.Lang.html#af1:174"><span class="id" title="variable">af1</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="DC.Lang.html#af2:175"><span class="id" title="variable">af2</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="DC.Lang.html#f_comp"><span class="id" title="definition">f_comp</span></a> <a class="idref" href="DC.Lang.html#af1:174"><span class="id" title="variable">af1</span></a> <a class="idref" href="DC.Lang.html#af2:175"><span class="id" title="variable">af2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fmlSubst_Atm" class="idref" href="#fmlSubst_Atm"><span class="id" title="lemma">fmlSubst_Atm</span></a> : <span class="id" title="keyword">forall</span> <a id="af:176" class="idref" href="#af:176"><span class="id" title="binder">af</span></a> <a id="p:177" class="idref" href="#p:177"><span class="id" title="binder">p</span></a>, <a class="idref" href="DC.Lang.html#fmlSubst"><span class="id" title="definition">fmlSubst</span></a> <a class="idref" href="DC.Lang.html#af:176"><span class="id" title="variable">af</span></a> (<a class="idref" href="DC.Lang.html#Atm"><span class="id" title="method">Atm</span></a> <a class="idref" href="DC.Lang.html#p:177"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="DC.Lang.html#Atm"><span class="id" title="method">Atm</span></a> ((<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="DC.Lang.html#af:176"><span class="id" title="variable">af</span></a>) <a class="idref" href="DC.Lang.html#p:177"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">af</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#fmlSubst_eq"><span class="id" title="lemma">fmlSubst_eq</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#Atm_dec_Atm"><span class="id" title="definition">Atm_dec_Atm</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fmlSubst_FV" class="idref" href="#fmlSubst_FV"><span class="id" title="lemma">fmlSubst_FV</span></a> : <span class="id" title="keyword">forall</span> <a id="af:178" class="idref" href="#af:178"><span class="id" title="binder">af</span></a> <a id="V:179" class="idref" href="#V:179"><span class="id" title="binder">V</span></a>, <a class="idref" href="DC.Lang.html#fmlSubst"><span class="id" title="definition">fmlSubst</span></a> <a class="idref" href="DC.Lang.html#af:178"><span class="id" title="variable">af</span></a> (<a class="idref" href="DC.Lang.html#FV"><span class="id" title="method">FV</span></a> <a class="idref" href="DC.Lang.html#V:179"><span class="id" title="variable">V</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="DC.Lang.html#af:178"><span class="id" title="variable">af</span></a>) <a class="idref" href="DC.Lang.html#V:179"><span class="id" title="variable">V</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">af</span> <span class="id" title="var">V</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#fmlSubst_eq"><span class="id" title="lemma">fmlSubst_eq</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#FV_dec_FV"><span class="id" title="definition">FV_dec_FV</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#Atm"><span class="id" title="method">Atm</span></a> (<a class="idref" href="DC.Lang.html#FV"><span class="id" title="method">FV</span></a> <span class="id" title="var">V</span>)) <span class="id" title="keyword">as</span> [[<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>]|<span class="id" title="var">HnAtm</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">contradict</span> <span class="id" title="var">Hp</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="DC.Lang.html#Atm_FV_disc"><span class="id" title="method">Atm_FV_disc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fmlSubst_af_comp" class="idref" href="#fmlSubst_af_comp"><span class="id" title="lemma">fmlSubst_af_comp</span></a> : <span class="id" title="keyword">forall</span> {<a id="af1:180" class="idref" href="#af1:180"><span class="id" title="binder">af1</span></a> <a id="af2:181" class="idref" href="#af2:181"><span class="id" title="binder">af2</span></a> <a id="A:182" class="idref" href="#A:182"><span class="id" title="binder">A</span></a>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#fmlSubst"><span class="id" title="definition">fmlSubst</span></a> (<a class="idref" href="DC.Lang.html#af_comp"><span class="id" title="definition">af_comp</span></a> <a class="idref" href="DC.Lang.html#af1:180"><span class="id" title="variable">af1</span></a> <a class="idref" href="DC.Lang.html#af2:181"><span class="id" title="variable">af2</span></a>) <a class="idref" href="DC.Lang.html#A:182"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="DC.Lang.html#fmlSubst"><span class="id" title="definition">fmlSubst</span></a> <a class="idref" href="DC.Lang.html#af1:180"><span class="id" title="variable">af1</span></a> (<a class="idref" href="DC.Lang.html#fmlSubst"><span class="id" title="definition">fmlSubst</span></a> <a class="idref" href="DC.Lang.html#af2:181"><span class="id" title="variable">af2</span></a> <a class="idref" href="DC.Lang.html#A:182"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">af1</span> <span class="id" title="var">af2</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="DC.Lang.html#ipse_rect"><span class="id" title="method">ipse_rect</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ! (<a class="idref" href="DC.Lang.html#fmlSubst_eq"><span class="id" title="lemma">fmlSubst_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">A</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#Atm"><span class="id" title="method">Atm</span></a> <span class="id" title="var">A</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>]|<span class="id" title="var">HnAtm</span>]; [|<span class="id" title="tactic">destruct</span> (<a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#FV"><span class="id" title="method">FV</span></a> <span class="id" title="var">A</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">V</span> <span class="id" title="var">HV</span>]|<span class="id" title="var">HnFV</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#fmlSubst_Atm"><span class="id" title="lemma">fmlSubst_Atm</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="DC.Lang.html#f_comp"><span class="id" title="definition">f_comp</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a> (<a class="idref" href="DC.Lang.html#fmlSubst"><span class="id" title="definition">fmlSubst</span></a> <span class="id" title="var">af2</span>) (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <span class="id" title="var">A</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="DC.Lang.html#not_Atm_conn"><span class="id" title="definition">not_Atm_conn</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">HnAtm</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HnAtm'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="DC.Lang.html#not_FV_conn"><span class="id" title="definition">not_FV_conn</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">HnFV</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HnFV'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#fmlSubst_eq"><span class="id" title="lemma">fmlSubst_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="DC.Lang.html#Atm_dec_not_Atm"><span class="id" title="definition">Atm_dec_not_Atm</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HnAtm'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="DC.Lang.html#FV_dec_not_FV"><span class="id" title="definition">FV_dec_not_FV</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HnFV'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#conn_conn"><span class="id" title="lemma">conn_conn</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#ipse_conn"><span class="id" title="lemma">ipse_conn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map_ext_in"><span class="id" title="lemma">map_ext_in</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">IH</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Identity&nbsp;substitutions&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="I_a" class="idref" href="#I_a"><span class="id" title="definition">I_a</span></a> : <a class="idref" href="DC.Lang.html#aSubst"><span class="id" title="definition">aSubst</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="I_f" class="idref" href="#I_f"><span class="id" title="definition">I_f</span></a> : <a class="idref" href="DC.Lang.html#fSubst"><span class="id" title="definition">fSubst</span></a> := <span class="id" title="keyword">fun</span> <a id="f:183" class="idref" href="#f:183"><span class="id" title="binder">f</span></a> =&gt; <a class="idref" href="DC.Lang.html#FV"><span class="id" title="method">FV</span></a> <a class="idref" href="DC.Lang.html#f:183"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="I_af" class="idref" href="#I_af"><span class="id" title="definition">I_af</span></a> : <a class="idref" href="DC.Lang.html#afSubst"><span class="id" title="definition">afSubst</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="DC.Lang.html#I_a"><span class="id" title="definition">I_a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="DC.Lang.html#I_f"><span class="id" title="definition">I_f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="I_af_id" class="idref" href="#I_af_id"><span class="id" title="lemma">I_af_id</span></a> : <span class="id" title="keyword">forall</span> <a id="A:184" class="idref" href="#A:184"><span class="id" title="binder">A</span></a> : <a class="idref" href="DC.Lang.html#SubstMore.formula"><span class="id" title="variable">formula</span></a>, <a class="idref" href="DC.Lang.html#fmlSubst"><span class="id" title="definition">fmlSubst</span></a> <a class="idref" href="DC.Lang.html#I_af"><span class="id" title="definition">I_af</span></a> <a class="idref" href="DC.Lang.html#A:184"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="DC.Lang.html#A:184"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.Lang.html#ipse_rect"><span class="id" title="method">ipse_rect</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#fmlSubst_eq"><span class="id" title="lemma">fmlSubst_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#Atm"><span class="id" title="method">Atm</span></a> <span class="id" title="var">A</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>]|<span class="id" title="var">nA</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">destruct</span> (<a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#FV"><span class="id" title="method">FV</span></a> <span class="id" title="var">A</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">V</span> <span class="id" title="var">HV</span>]|<span class="id" title="var">nF</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hp</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HV</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map_ext_in"><span class="id" title="lemma">map_ext_in</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Utils.html#map_id"><span class="id" title="lemma">map_id</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a>, <a class="idref" href="DC.Lang.html#conn_ipse"><span class="id" title="method">conn_ipse</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">B</span> <span class="id" title="var">HB</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fmlSubst_fun_agree_iff" class="idref" href="#fmlSubst_fun_agree_iff"><span class="id" title="lemma">fmlSubst_fun_agree_iff</span></a> {<a id="a1:185" class="idref" href="#a1:185"><span class="id" title="binder">a1</span></a> <a id="f1:186" class="idref" href="#f1:186"><span class="id" title="binder">f1</span></a> <a id="a2:187" class="idref" href="#a2:187"><span class="id" title="binder">a2</span></a> <a id="f2:188" class="idref" href="#f2:188"><span class="id" title="binder">f2</span></a> <a id="A:189" class="idref" href="#A:189"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#fmlSubst"><span class="id" title="definition">fmlSubst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="DC.Lang.html#a1:185"><span class="id" title="variable">a1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="DC.Lang.html#f1:186"><span class="id" title="variable">f1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="DC.Lang.html#A:189"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="DC.Lang.html#fmlSubst"><span class="id" title="definition">fmlSubst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="DC.Lang.html#a2:187"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="DC.Lang.html#f2:188"><span class="id" title="variable">f2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="DC.Lang.html#A:189"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.FunAgree.html#fun_agree"><span class="id" title="definition">fun_agree</span></a> <a class="idref" href="DC.Lang.html#a1:185"><span class="id" title="variable">a1</span></a> <a class="idref" href="DC.Lang.html#a2:187"><span class="id" title="variable">a2</span></a> (<a class="idref" href="DC.Lang.html#fmlAtms"><span class="id" title="definition">fmlAtms</span></a> <a class="idref" href="DC.Lang.html#A:189"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.FunAgree.html#fun_agree"><span class="id" title="definition">fun_agree</span></a> <a class="idref" href="DC.Lang.html#f1:186"><span class="id" title="variable">f1</span></a> <a class="idref" href="DC.Lang.html#f2:188"><span class="id" title="variable">f2</span></a> (<a class="idref" href="DC.Lang.html#fmlFVs"><span class="id" title="definition">fmlFVs</span></a> <a class="idref" href="DC.Lang.html#A:189"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="DC.Lang.html#ipse_rect"><span class="id" title="method">ipse_rect</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ! <a class="idref" href="DC.Lang.html#fmlSubst_eq"><span class="id" title="lemma">fmlSubst_eq</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#fmlAtms_eq"><span class="id" title="definition">fmlAtms_eq</span></a>, <a class="idref" href="DC.Lang.html#fmlFVs_eq"><span class="id" title="definition">fmlFVs_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#Atm"><span class="id" title="method">Atm</span></a> <span class="id" title="var">A</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>]|<span class="id" title="var">nA</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#FV"><span class="id" title="method">FV</span></a> <span class="id" title="var">A</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">V</span> <span class="id" title="var">HV</span>]|<span class="id" title="var">nF</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HV</span>. <span class="id" title="var">contradict</span> <span class="id" title="var">HV</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="DC.Lang.html#Atm_FV_disc"><span class="id" title="method">Atm_FV_disc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hp</span>, (<a class="idref" href="DC.Lang.html#Var_ipse"><span class="id" title="method">Var_ipse</span></a> <a class="idref" href="DC.Lang.html#Atm"><span class="id" title="method">Atm</span></a>). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#Atm_inj_iff"><span class="id" title="definition">Atm_inj_iff</span></a>, <a class="idref" href="DC.FunAgree.html#fun_agree_Singleton"><span class="id" title="lemma">fun_agree_Singleton</span></a>, <a class="idref" href="DC.FunAgree.html#fun_agree_Empty_iff"><span class="id" title="lemma">fun_agree_Empty_iff</span></a>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HV</span>, (<a class="idref" href="DC.Lang.html#Var_ipse"><span class="id" title="method">Var_ipse</span></a> <a class="idref" href="DC.Lang.html#FV"><span class="id" title="method">FV</span></a>). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.FunAgree.html#fun_agree_Singleton"><span class="id" title="lemma">fun_agree_Singleton</span></a>, <a class="idref" href="DC.FunAgree.html#fun_agree_Empty_iff"><span class="id" title="lemma">fun_agree_Empty_iff</span></a>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Utils.html#union_map"><span class="id" title="lemma">union_map</span></a>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="DC.Utils.html#union_map"><span class="id" title="lemma">union_map</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <span class="id" title="var">A</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- ! <a class="idref" href="DC.FunAgree.html#fun_agree_multi_Union_iff"><span class="id" title="lemma">fun_agree_multi_Union_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#conn_inj_iff"><span class="id" title="lemma">conn_inj_iff</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [<span class="id" title="var">_</span> <span class="id" title="var">H</span>]. <span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">Hl</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">B</span> [<span class="id" title="var">HeqB</span> <span class="id" title="var">HinB</span>]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HeqB</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ext_in_map"><span class="id" title="lemma">ext_in_map</span></a> <span class="id" title="var">H</span>); <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map_ext_in"><span class="id" title="lemma">map_ext_in</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">B</span> <span class="id" title="var">HB</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>; <span class="id" title="tactic">exists</span> <span class="id" title="var">B</span>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Substitution&nbsp;deduced&nbsp;from&nbsp;matching&nbsp;two&nbsp;expressions&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="fml_matchsub_Atm" class="idref" href="#fml_matchsub_Atm"><span class="id" title="definition">fml_matchsub_Atm</span></a> : <a class="idref" href="DC.Lang.html#SubstMore.formula"><span class="id" title="variable">formula</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#SubstMore.formula"><span class="id" title="variable">formula</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#aSubst"><span class="id" title="definition">aSubst</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#ipse_rect"><span class="id" title="method">ipse_rect</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="A:190" class="idref" href="#A:190"><span class="id" title="binder">A</span></a> <a id="IH:191" class="idref" href="#IH:191"><span class="id" title="binder">IH</span></a> =&gt; <span class="id" title="keyword">fun</span> <a id="B:192" class="idref" href="#B:192"><span class="id" title="binder">B</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#Atm"><span class="id" title="method">Atm</span></a> <a class="idref" href="DC.Lang.html#A:190"><span class="id" title="variable">A</span></a>, <a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#Atm"><span class="id" title="method">Atm</span></a> <a class="idref" href="DC.Lang.html#B:192"><span class="id" title="variable">B</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inleft"><span class="id" title="constructor">inleft</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">p</span> <span class="id" title="var">_</span>), <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inleft"><span class="id" title="constructor">inleft</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">q</span> <span class="id" title="var">_</span>) =&gt; <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">q</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> =&gt; <span class="id" title="keyword">fun</span> <a id="p:193" class="idref" href="#p:193"><span class="id" title="binder">p</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DC.Utils.html#in_some_dec"><span class="id" title="lemma">in_some_dec</span></a> <a class="idref" href="DC.Lang.html#p:193"><span class="id" title="variable">p</span></a> (<a class="idref" href="DC.Utils.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:190"><span class="id" title="variable">A</span></a>) (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#B:192"><span class="id" title="variable">B</span></a>)) (<a class="idref" href="DC.Utils.html#comp"><span class="id" title="definition">comp</span></a> <a class="idref" href="DC.Lang.html#fmlAtms"><span class="id" title="definition">fmlAtms</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inleft"><span class="id" title="constructor">inleft</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#exist2"><span class="id" title="constructor">exist2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">A'B'</span> <span class="id" title="var">Hin</span> <span class="id" title="var">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#IH:191"><span class="id" title="variable">IH</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">A'B'</span>) (<a class="idref" href="DC.Utils.html#in_zip_pair_fst"><span class="id" title="lemma">in_zip_pair_fst</span></a> <span class="id" title="var">Hin</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="var">A'B'</span>) <a class="idref" href="DC.Lang.html#p:193"><span class="id" title="variable">p</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inright"><span class="id" title="constructor">inright</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="DC.Lang.html#p:193"><span class="id" title="variable">p</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fml_matchsub_Atm_eq" class="idref" href="#fml_matchsub_Atm_eq"><span class="id" title="lemma">fml_matchsub_Atm_eq</span></a> (<a id="A:194" class="idref" href="#A:194"><span class="id" title="binder">A</span></a> <a id="B:195" class="idref" href="#B:195"><span class="id" title="binder">B</span></a> : <a class="idref" href="DC.Lang.html#SubstMore.formula"><span class="id" title="variable">formula</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#fml_matchsub_Atm"><span class="id" title="definition">fml_matchsub_Atm</span></a> <a class="idref" href="DC.Lang.html#A:194"><span class="id" title="variable">A</span></a> <a class="idref" href="DC.Lang.html#B:195"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#Atm"><span class="id" title="method">Atm</span></a> <a class="idref" href="DC.Lang.html#A:194"><span class="id" title="variable">A</span></a>, <a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#Atm"><span class="id" title="method">Atm</span></a> <a class="idref" href="DC.Lang.html#B:195"><span class="id" title="variable">B</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inleft"><span class="id" title="constructor">inleft</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">p</span> <span class="id" title="var">_</span>), <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inleft"><span class="id" title="constructor">inleft</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">q</span> <span class="id" title="var">_</span>) =&gt; <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">q</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> =&gt; <span class="id" title="keyword">fun</span> <a id="p:196" class="idref" href="#p:196"><span class="id" title="binder">p</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DC.Utils.html#in_some_dec"><span class="id" title="lemma">in_some_dec</span></a> <a class="idref" href="DC.Lang.html#p:196"><span class="id" title="variable">p</span></a> (<a class="idref" href="DC.Utils.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:194"><span class="id" title="variable">A</span></a>) (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#B:195"><span class="id" title="variable">B</span></a>)) (<a class="idref" href="DC.Utils.html#comp"><span class="id" title="definition">comp</span></a> <a class="idref" href="DC.Lang.html#fmlAtms"><span class="id" title="definition">fmlAtms</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inleft"><span class="id" title="constructor">inleft</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#exist2"><span class="id" title="constructor">exist2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">A'B'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) =&gt; <a class="idref" href="DC.Lang.html#fml_matchsub_Atm"><span class="id" title="definition">fml_matchsub_Atm</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">A'B'</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="var">A'B'</span>) <a class="idref" href="DC.Lang.html#p:196"><span class="id" title="variable">p</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inright"><span class="id" title="constructor">inright</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="DC.Lang.html#p:196"><span class="id" title="variable">p</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="DC.Lang.html#fml_matchsub_Atm"><span class="id" title="definition">fml_matchsub_Atm</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#ipse_rect_cmp"><span class="id" title="method">ipse_rect_cmp</span></a>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="fml_matchsub_FV" class="idref" href="#fml_matchsub_FV"><span class="id" title="definition">fml_matchsub_FV</span></a> : <a class="idref" href="DC.Lang.html#SubstMore.formula"><span class="id" title="variable">formula</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#SubstMore.formula"><span class="id" title="variable">formula</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#fSubst"><span class="id" title="definition">fSubst</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#ipse_rect"><span class="id" title="method">ipse_rect</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="A:197" class="idref" href="#A:197"><span class="id" title="binder">A</span></a> <a id="IH:198" class="idref" href="#IH:198"><span class="id" title="binder">IH</span></a> =&gt; <span class="id" title="keyword">fun</span> <a id="B:199" class="idref" href="#B:199"><span class="id" title="binder">B</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#FV"><span class="id" title="method">FV</span></a> <a class="idref" href="DC.Lang.html#A:197"><span class="id" title="variable">A</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inleft"><span class="id" title="constructor">inleft</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">V</span> <span class="id" title="var">_</span>) =&gt; <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="DC.Lang.html#B:199"><span class="id" title="variable">B</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="keyword">fun</span> <a id="V:200" class="idref" href="#V:200"><span class="id" title="binder">V</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DC.Utils.html#in_some_dec"><span class="id" title="lemma">in_some_dec</span></a> <a class="idref" href="DC.Lang.html#V:200"><span class="id" title="variable">V</span></a> (<a class="idref" href="DC.Utils.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:197"><span class="id" title="variable">A</span></a>) (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#B:199"><span class="id" title="variable">B</span></a>)) (<a class="idref" href="DC.Utils.html#comp"><span class="id" title="definition">comp</span></a> <a class="idref" href="DC.Lang.html#fmlFVs"><span class="id" title="definition">fmlFVs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inleft"><span class="id" title="constructor">inleft</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#exist2"><span class="id" title="constructor">exist2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">A'B'</span> <span class="id" title="var">Hin</span> <span class="id" title="var">_</span>) =&gt; <a class="idref" href="DC.Lang.html#IH:198"><span class="id" title="variable">IH</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">A'B'</span>) (<a class="idref" href="DC.Utils.html#in_zip_pair_fst"><span class="id" title="lemma">in_zip_pair_fst</span></a> <span class="id" title="var">Hin</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="var">A'B'</span>) <a class="idref" href="DC.Lang.html#V:200"><span class="id" title="variable">V</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inright"><span class="id" title="constructor">inright</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="DC.Lang.html#FV"><span class="id" title="method">FV</span></a> <a class="idref" href="DC.Lang.html#V:200"><span class="id" title="variable">V</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fml_matchsub_FV_eq" class="idref" href="#fml_matchsub_FV_eq"><span class="id" title="lemma">fml_matchsub_FV_eq</span></a> (<a id="A:201" class="idref" href="#A:201"><span class="id" title="binder">A</span></a> <a id="B:202" class="idref" href="#B:202"><span class="id" title="binder">B</span></a> : <a class="idref" href="DC.Lang.html#SubstMore.formula"><span class="id" title="variable">formula</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#fml_matchsub_FV"><span class="id" title="definition">fml_matchsub_FV</span></a> <a class="idref" href="DC.Lang.html#A:201"><span class="id" title="variable">A</span></a> <a class="idref" href="DC.Lang.html#B:202"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#FV"><span class="id" title="method">FV</span></a> <a class="idref" href="DC.Lang.html#A:201"><span class="id" title="variable">A</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inleft"><span class="id" title="constructor">inleft</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">V</span> <span class="id" title="var">_</span>) =&gt; <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="DC.Lang.html#B:202"><span class="id" title="variable">B</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="keyword">fun</span> <a id="V:203" class="idref" href="#V:203"><span class="id" title="binder">V</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DC.Utils.html#in_some_dec"><span class="id" title="lemma">in_some_dec</span></a> <a class="idref" href="DC.Lang.html#V:203"><span class="id" title="variable">V</span></a> (<a class="idref" href="DC.Utils.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:201"><span class="id" title="variable">A</span></a>) (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#B:202"><span class="id" title="variable">B</span></a>)) (<a class="idref" href="DC.Utils.html#comp"><span class="id" title="definition">comp</span></a> <a class="idref" href="DC.Lang.html#fmlFVs"><span class="id" title="definition">fmlFVs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inleft"><span class="id" title="constructor">inleft</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#exist2"><span class="id" title="constructor">exist2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">A'B'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) =&gt; <a class="idref" href="DC.Lang.html#fml_matchsub_FV"><span class="id" title="definition">fml_matchsub_FV</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">A'B'</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="var">A'B'</span>) <a class="idref" href="DC.Lang.html#V:203"><span class="id" title="variable">V</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#inright"><span class="id" title="constructor">inright</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="DC.Lang.html#FV"><span class="id" title="method">FV</span></a> <a class="idref" href="DC.Lang.html#V:203"><span class="id" title="variable">V</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="DC.Lang.html#fml_matchsub_FV"><span class="id" title="definition">fml_matchsub_FV</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#ipse_rect_cmp"><span class="id" title="method">ipse_rect_cmp</span></a>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="fml_matchsub" class="idref" href="#fml_matchsub"><span class="id" title="definition">fml_matchsub</span></a> (<a id="A:204" class="idref" href="#A:204"><span class="id" title="binder">A</span></a> <a id="B:205" class="idref" href="#B:205"><span class="id" title="binder">B</span></a> : <a class="idref" href="DC.Lang.html#SubstMore.formula"><span class="id" title="variable">formula</span></a>) : <a class="idref" href="DC.Lang.html#afSubst"><span class="id" title="definition">afSubst</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="DC.Lang.html#fml_matchsub_Atm"><span class="id" title="definition">fml_matchsub_Atm</span></a> <a class="idref" href="DC.Lang.html#A:204"><span class="id" title="variable">A</span></a> <a class="idref" href="DC.Lang.html#B:205"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="DC.Lang.html#fml_matchsub_FV"><span class="id" title="definition">fml_matchsub_FV</span></a> <a class="idref" href="DC.Lang.html#A:204"><span class="id" title="variable">A</span></a> <a class="idref" href="DC.Lang.html#B:205"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fmlInst_matchsub" class="idref" href="#fmlInst_matchsub"><span class="id" title="lemma">fmlInst_matchsub</span></a> (<a id="af:206" class="idref" href="#af:206"><span class="id" title="binder">af</span></a> : <a class="idref" href="DC.Lang.html#afSubst"><span class="id" title="definition">afSubst</span></a>) : <span class="id" title="keyword">forall</span> <a id="A:207" class="idref" href="#A:207"><span class="id" title="binder">A</span></a> <a id="B:208" class="idref" href="#B:208"><span class="id" title="binder">B</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#fmlSubst"><span class="id" title="definition">fmlSubst</span></a> <a class="idref" href="DC.Lang.html#af:206"><span class="id" title="variable">af</span></a> <a class="idref" href="DC.Lang.html#A:207"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="DC.Lang.html#B:208"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#fmlSubst"><span class="id" title="definition">fmlSubst</span></a> (<a class="idref" href="DC.Lang.html#fml_matchsub"><span class="id" title="definition">fml_matchsub</span></a> <a class="idref" href="DC.Lang.html#A:207"><span class="id" title="variable">A</span></a> <a class="idref" href="DC.Lang.html#B:208"><span class="id" title="variable">B</span></a>) <a class="idref" href="DC.Lang.html#A:207"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="DC.Lang.html#B:208"><span class="id" title="variable">B</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">pattern</span> <span class="id" title="var">A</span>. <span class="id" title="var">revert</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="DC.Lang.html#ipse_rect"><span class="id" title="method">ipse_rect</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">IH</span> <span class="id" title="var">B</span> <span class="id" title="var">Haf</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="DC.Lang.html#fml_matchsub"><span class="id" title="definition">fml_matchsub</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#fml_matchsub_Atm_eq"><span class="id" title="lemma">fml_matchsub_Atm_eq</span></a>, <a class="idref" href="DC.Lang.html#fml_matchsub_FV_eq"><span class="id" title="lemma">fml_matchsub_FV_eq</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#fmlSubst_eq"><span class="id" title="lemma">fmlSubst_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Haf</span> |- *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#Atm"><span class="id" title="method">Atm</span></a> <span class="id" title="var">A</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">p</span> <span class="id" title="var">HAtmA</span>]|<span class="id" title="var">HnAtmA</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">destruct</span> (<a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#Atm"><span class="id" title="method">Atm</span></a> <span class="id" title="var">B</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">q</span> <span class="id" title="var">HAtmB</span>]|<span class="id" title="var">HnAtmB</span>]|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#FV"><span class="id" title="method">FV</span></a> <span class="id" title="var">A</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">V</span> <span class="id" title="var">HFVA</span>]|<span class="id" title="var">HnFVA</span>]]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Haf</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">HnAtmB</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Haf</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Haf</span> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> (<a class="idref" href="DC.Lang.html#conn"><span class="id" title="method">conn</span></a> <span class="id" title="var">A</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="DC.Lang.html#fmlSubst"><span class="id" title="definition">fmlSubst</span></a> <span class="id" title="var">af</span>) (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <span class="id" title="var">A</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <span class="id" title="var">B</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heqips</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> (<a class="idref" href="DC.Lang.html#conn_ipse"><span class="id" title="method">conn_ipse</span></a> <span class="id" title="var">B</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Haf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.Lang.html#conn_inj"><span class="id" title="method">conn_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Haf</span>; [|<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>|<span class="id" title="tactic">reflexivity</span>]. <span class="id" title="tactic">tauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <span class="id" title="var">A</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <span class="id" title="var">B</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqips</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">forall</span> <a id="A'B':209" class="idref" href="#A'B':209"><span class="id" title="binder"><span id="A'B':210" class="id">A'B'</span></span></a>, <a class="idref" href="DC.Lang.html#A'B':209"><span class="id" title="variable">A'B'</span></a> <a class="idref" href="DC.ListSetNotations.html#b018a66e1e5f3a3e69df51e53be82ded"><span class="id" title="notation">∈</span></a> <a class="idref" href="DC.Utils.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <span class="id" title="var">A</span>) (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <span class="id" title="var">B</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#fmlSubst"><span class="id" title="definition">fmlSubst</span></a> <span class="id" title="var">af</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="DC.Lang.html#A'B':209"><span class="id" title="variable">A'B'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="DC.Lang.html#fmlSubst"><span class="id" title="definition">fmlSubst</span></a> (<a class="idref" href="DC.Lang.html#fml_matchsub"><span class="id" title="definition">fml_matchsub</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="DC.Lang.html#A'B':209"><span class="id" title="variable">A'B'</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="DC.Lang.html#A'B':209"><span class="id" title="variable">A'B'</span></a>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="DC.Lang.html#A'B':209"><span class="id" title="variable">A'B'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hallaf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> (<span class="id" title="var">A'</span>, <span class="id" title="var">B'</span>) <span class="id" title="var">Hin</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="DC.Utils.html#map_eq_zip_pair"><span class="id" title="lemma">map_eq_zip_pair</span></a> <span class="id" title="var">Heqips</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">A'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">B'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">Hin</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.Utils.html#in_zip_pair_fst"><span class="id" title="lemma">in_zip_pair_fst</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>, <span class="id" title="var">Heq</span> |- *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">IH</span> <span class="id" title="var">A'</span> <span class="id" title="var">Hin</span> <span class="id" title="var">B'</span> <span class="id" title="var">Heq</span>). <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map_ext_in"><span class="id" title="lemma">map_ext_in</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">A'</span> <span class="id" title="var">HA'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="DC.Utils.html#zip_pair_bij_fst"><span class="id" title="lemma">zip_pair_bij_fst</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">A'</span> <span class="id" title="var">HA'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">A'B'</span> [<span class="id" title="var">HA'B'</span> <span class="id" title="var">Hfst</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">af</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> <span class="id" title="var">f</span>]. <span class="id" title="tactic">apply</span> <a class="idref" href="DC.Lang.html#fmlSubst_fun_agree_iff"><span class="id" title="lemma">fmlSubst_fun_agree_iff</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="DC.Utils.html#in_some_dec"><span class="id" title="lemma">in_some_dec</span></a> <span class="id" title="var">p</span> (<a class="idref" href="DC.Utils.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <span class="id" title="var">A</span>) (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <span class="id" title="var">B</span>)) (<a class="idref" href="DC.Utils.html#comp"><span class="id" title="definition">comp</span></a> <a class="idref" href="DC.Lang.html#fmlAtms"><span class="id" title="definition">fmlAtms</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [[[<span class="id" title="var">A0</span> <span class="id" title="var">B0</span>] <span class="id" title="var">Hin</span> <span class="id" title="var">HpA0</span>]|<span class="id" title="var">Hcont</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hallaf</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">A0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">B0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">Hin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.Lang.html#fmlSubst_fun_agree_iff"><span class="id" title="lemma">fmlSubst_fun_agree_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hallaf</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hallaf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HAtm</span> <span class="id" title="var">HFV</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HAtm</span>, <span class="id" title="var">HFV</span> |- *. <span class="id" title="tactic">unfold</span> <a class="idref" href="DC.Utils.html#comp"><span class="id" title="definition">comp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HpA0</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HpA0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">HAtm</span> <span class="id" title="var">p</span> <span class="id" title="var">HpA0</span>). <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hcont</span> <span class="id" title="var">A'B'</span> <span class="id" title="var">HA'B'</span>). <span class="id" title="var">contradict</span> <span class="id" title="var">Hcont</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="DC.Utils.html#comp"><span class="id" title="definition">comp</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hfst</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">V</span> <span class="id" title="var">HV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="DC.Utils.html#in_some_dec"><span class="id" title="lemma">in_some_dec</span></a> <span class="id" title="var">V</span> (<a class="idref" href="DC.Utils.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <span class="id" title="var">A</span>) (<a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <span class="id" title="var">B</span>)) (<a class="idref" href="DC.Utils.html#comp"><span class="id" title="definition">comp</span></a> <a class="idref" href="DC.Lang.html#fmlFVs"><span class="id" title="definition">fmlFVs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [[[<span class="id" title="var">A0</span> <span class="id" title="var">B0</span>] <span class="id" title="var">Hin</span> <span class="id" title="var">HVA0</span>]|<span class="id" title="var">Hcont</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hallaf</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">A0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">B0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">Hin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.Lang.html#fmlSubst_fun_agree_iff"><span class="id" title="lemma">fmlSubst_fun_agree_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hallaf</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hallaf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HAtm</span> <span class="id" title="var">HFV</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HAtm</span>, <span class="id" title="var">HFV</span> |- *. <span class="id" title="tactic">unfold</span> <a class="idref" href="DC.Utils.html#comp"><span class="id" title="definition">comp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HVA0</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HVA0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">HFV</span> <span class="id" title="var">V</span> <span class="id" title="var">HVA0</span>). <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hcont</span> <span class="id" title="var">A'B'</span> <span class="id" title="var">HA'B'</span>). <span class="id" title="var">contradict</span> <span class="id" title="var">Hcont</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="DC.Utils.html#comp"><span class="id" title="definition">comp</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hfst</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fmlSubst_dec" class="idref" href="#fmlSubst_dec"><span class="id" title="lemma">fmlSubst_dec</span></a> : <span class="id" title="keyword">forall</span> <a id="A:211" class="idref" href="#A:211"><span class="id" title="binder">A</span></a> <a id="B:212" class="idref" href="#B:212"><span class="id" title="binder">B</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">{</span></a><a id="af:213" class="idref" href="#af:213"><span class="id" title="binder">af</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">|</span></a> <a class="idref" href="DC.Lang.html#fmlSubst"><span class="id" title="definition">fmlSubst</span></a> <a class="idref" href="DC.Lang.html#af:213"><span class="id" title="variable">af</span></a> <a class="idref" href="DC.Lang.html#A:211"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="DC.Lang.html#B:212"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">{</span></a><span class="id" title="keyword">forall</span> <a id="af:214" class="idref" href="#af:214"><span class="id" title="binder">af</span></a>, <a class="idref" href="DC.Lang.html#fmlSubst"><span class="id" title="definition">fmlSubst</span></a> <a class="idref" href="DC.Lang.html#af:214"><span class="id" title="variable">af</span></a> <a class="idref" href="DC.Lang.html#A:211"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="DC.Lang.html#B:212"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="DC.EqDec.html#eqdec"><span class="id" title="method">eqdec</span></a> (<a class="idref" href="DC.Lang.html#fmlSubst"><span class="id" title="definition">fmlSubst</span></a> (<a class="idref" href="DC.Lang.html#fml_matchsub"><span class="id" title="definition">fml_matchsub</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) <span class="id" title="var">A</span>) <span class="id" title="var">B</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span>|<span class="id" title="var">Hneq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">exists</span> (<a class="idref" href="DC.Lang.html#fml_matchsub"><span class="id" title="definition">fml_matchsub</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>). <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">af</span>. <span class="id" title="var">contradict</span> <span class="id" title="var">Hneq</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="DC.Lang.html#fmlInst_matchsub"><span class="id" title="lemma">fmlInst_matchsub</span></a> <span class="id" title="var">af</span>). <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="In_ipse_subst" class="idref" href="#In_ipse_subst"><span class="id" title="lemma">In_ipse_subst</span></a> : <span class="id" title="keyword">forall</span> <a id="A:215" class="idref" href="#A:215"><span class="id" title="binder">A</span></a> <a id="A':216" class="idref" href="#A':216"><span class="id" title="binder">A'</span></a> <a id="af:217" class="idref" href="#af:217"><span class="id" title="binder">af</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DC.Lang.html#A':216"><span class="id" title="variable">A'</span></a> <a class="idref" href="DC.ListSetNotations.html#b018a66e1e5f3a3e69df51e53be82ded"><span class="id" title="notation">∈</span></a> <a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> <a class="idref" href="DC.Lang.html#A:215"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#fmlSubst"><span class="id" title="definition">fmlSubst</span></a> <a class="idref" href="DC.Lang.html#af:217"><span class="id" title="variable">af</span></a> <a class="idref" href="DC.Lang.html#A':216"><span class="id" title="variable">A'</span></a> <a class="idref" href="DC.ListSetNotations.html#b018a66e1e5f3a3e69df51e53be82ded"><span class="id" title="notation">∈</span></a> <a class="idref" href="DC.Lang.html#ipse"><span class="id" title="method">ipse</span></a> (<a class="idref" href="DC.Lang.html#fmlSubst"><span class="id" title="definition">fmlSubst</span></a> <a class="idref" href="DC.Lang.html#af:217"><span class="id" title="variable">af</span></a> <a class="idref" href="DC.Lang.html#A:215"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">A'</span> <span class="id" title="var">af</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">rewrite</span> ! <a class="idref" href="DC.Lang.html#fmlSubst_eq"><span class="id" title="lemma">fmlSubst_eq</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="DC.Lang.html#fmlSubst_eq"><span class="id" title="lemma">fmlSubst_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#Atm"><span class="id" title="method">Atm</span></a> <span class="id" title="var">A</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>]|<span class="id" title="var">HnAtm</span>]; [|<span class="id" title="tactic">destruct</span> (<a class="idref" href="DC.Lang.html#Var_dec"><span class="id" title="method">Var_dec</span></a> <a class="idref" href="DC.Lang.html#FV"><span class="id" title="method">FV</span></a> <span class="id" title="var">A</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">V</span> <span class="id" title="var">HV</span>]|<span class="id" title="var">HnFV</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="DC.Lang.html#Var_ipse"><span class="id" title="method">Var_ipse</span></a> <a class="idref" href="DC.Lang.html#Atm"><span class="id" title="method">Atm</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HV</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="DC.Lang.html#Var_ipse"><span class="id" title="method">Var_ipse</span></a> <a class="idref" href="DC.Lang.html#FV"><span class="id" title="method">FV</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.Lang.html#ipse_conn"><span class="id" title="lemma">ipse_conn</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#in_map"><span class="id" title="lemma">in_map</span></a>. <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="In_subexprs_subst" class="idref" href="#In_subexprs_subst"><span class="id" title="lemma">In_subexprs_subst</span></a> : <span class="id" title="keyword">forall</span> <a id="A:218" class="idref" href="#A:218"><span class="id" title="binder">A</span></a> <a id="B:219" class="idref" href="#B:219"><span class="id" title="binder">B</span></a> <a id="pf:220" class="idref" href="#pf:220"><span class="id" title="binder">pf</span></a>, <a class="idref" href="DC.Lang.html#A:218"><span class="id" title="variable">A</span></a> <a class="idref" href="DC.ListSetNotations.html#b018a66e1e5f3a3e69df51e53be82ded"><span class="id" title="notation">∈</span></a> <a class="idref" href="DC.Lang.html#subexprs"><span class="id" title="definition">subexprs</span></a> <a class="idref" href="DC.Lang.html#B:219"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DC.Lang.html#fmlSubst"><span class="id" title="definition">fmlSubst</span></a> <a class="idref" href="DC.Lang.html#pf:220"><span class="id" title="variable">pf</span></a> <a class="idref" href="DC.Lang.html#A:218"><span class="id" title="variable">A</span></a> <a class="idref" href="DC.ListSetNotations.html#b018a66e1e5f3a3e69df51e53be82ded"><span class="id" title="notation">∈</span></a> <a class="idref" href="DC.Lang.html#subexprs"><span class="id" title="definition">subexprs</span></a> (<a class="idref" href="DC.Lang.html#fmlSubst"><span class="id" title="definition">fmlSubst</span></a> <a class="idref" href="DC.Lang.html#pf:220"><span class="id" title="variable">pf</span></a> <a class="idref" href="DC.Lang.html#B:219"><span class="id" title="variable">B</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">af</span>. <span class="id" title="var">revert</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">B</span> <span class="id" title="keyword">using</span> (@<a class="idref" href="DC.Lang.html#ipse_rect"><span class="id" title="method">ipse_rect</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="DC.Lang.html#SubstMore.Lf"><span class="id" title="variable">Lf</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">H</span> <span class="id" title="var">into</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">HAB</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="DC.Lang.html#in_subexprs_iff"><span class="id" title="lemma">in_subexprs_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HAB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HAB</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HAB</span>|[<span class="id" title="var">A'</span> [<span class="id" title="var">HA'</span> <span class="id" title="var">HA</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HAB</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="DC.Lang.html#subexprs_refl"><span class="id" title="lemma">subexprs_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="DC.Lang.html#in_subexprs_iff"><span class="id" title="lemma">in_subexprs_iff</span></a>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">A'</span> <span class="id" title="var">HA'</span> <span class="id" title="var">A</span> <span class="id" title="var">HA</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="DC.Lang.html#fmlSubst"><span class="id" title="definition">fmlSubst</span></a> <span class="id" title="var">af</span> <span class="id" title="var">A'</span>). <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.Lang.html#In_ipse_subst"><span class="id" title="lemma">In_ipse_subst</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;An&nbsp;alternative&nbsp;way&nbsp;of&nbsp;defining&nbsp;a&nbsp;substitutions&nbsp;by&nbsp;matching&nbsp;expre&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;Definition&nbsp;fml_lmatchsub'&nbsp;:&nbsp;expr&nbsp;-&gt;&nbsp;expr&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(list&nbsp;(string&nbsp;*&nbsp;string))&nbsp;*&nbsp;(list&nbsp;(string&nbsp;*&nbsp;expr))&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;ipse_rect&nbsp;_&nbsp;(fun&nbsp;A&nbsp;IH&nbsp;=&gt;&nbsp;fun&nbsp;B&nbsp;=&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;match&nbsp;Var_dec&nbsp;Atm&nbsp;A,&nbsp;Var_dec&nbsp;Atm&nbsp;B&nbsp;with<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;inleft&nbsp;(exist&nbsp;_&nbsp;p&nbsp;_),&nbsp;inleft&nbsp;(exist&nbsp;_&nbsp;q&nbsp;_)&nbsp;=&gt;&nbsp;(<span class="inlinecode">(<span class="id" title="var">p</span>,</span> <span class="inlinecode"><span class="id" title="var">q</span>)</span>,&nbsp;<span class="inlinecode"></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;_,&nbsp;_&nbsp;=&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;match&nbsp;Var_dec&nbsp;FV&nbsp;A&nbsp;with<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;inleft&nbsp;(exist&nbsp;_&nbsp;V&nbsp;_)&nbsp;=&gt;&nbsp;(<span class="inlinecode"></span>,&nbsp;<span class="inlinecode">(<span class="id" title="var">V</span>,</span> <span class="inlinecode"><span class="id" title="var">B</span>)</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;inright&nbsp;_&nbsp;=&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fold_right&nbsp;(fun&nbsp;A'B'&nbsp;=&gt;&nbsp;let&nbsp;A'&nbsp;:=&nbsp;fst&nbsp;A'B'&nbsp;in&nbsp;let&nbsp;B'&nbsp;:=&nbsp;snd&nbsp;A'B'&nbsp;in<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;app2&nbsp;(<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;match&nbsp;in_dec&nbsp;eqdec&nbsp;A'&nbsp;(ipse&nbsp;A)&nbsp;with<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;left&nbsp;Hin&nbsp;=&gt;&nbsp;IH&nbsp;A'&nbsp;Hin&nbsp;B'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;right&nbsp;_&nbsp;=&gt;&nbsp;(<span class="inlinecode"></span>,&nbsp;<span class="inlinecode"></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="inlinecode"></span>,&nbsp;<span class="inlinecode"></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(zip&nbsp;pair&nbsp;(ipse&nbsp;A)&nbsp;(ipse&nbsp;B))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end).<br/>
*)</span><br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="DC.Lang.html#SubstMore"><span class="id" title="section">SubstMore</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
