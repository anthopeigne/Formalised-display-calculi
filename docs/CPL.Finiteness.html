<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/anthopeigne/Formalised-display-calculi">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">CPL.Finiteness</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Strings.String.html#"><span class="id" title="library">String</span></a>.<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">string_scope</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.SetoidList.html#"><span class="id" title="library">SetoidList</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ListNotations"><span class="id" title="module">ListNotations</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="DC.ListSetNotations.html#"><span class="id" title="library">ListSetNotations</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.ListSet.html#"><span class="id" title="library">ListSet</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Arith.Arith.html#"><span class="id" title="library">Arith</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Bool.Bool.html#"><span class="id" title="library">Bool</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#"><span class="id" title="library">Datatypes</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Sorting.Permutation.html#"><span class="id" title="library">Permutation</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.funind.Recdef.html#"><span class="id" title="library">Recdef</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.micromega.Lia.html#"><span class="id" title="library">Lia</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="DC.EqDec.html#"><span class="id" title="library">EqDec</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="DC.Tactics.html#"><span class="id" title="library">Tactics</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="DC.Utils.html#"><span class="id" title="library">Utils</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="DC.Lang.html#"><span class="id" title="library">Lang</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="DC.Sequents.html#"><span class="id" title="library">Sequents</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="DC.Substitutions.html#"><span class="id" title="library">Substitutions</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="DC.Derivation.html#"><span class="id" title="library">Derivation</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="DC.Cuts.html#"><span class="id" title="library">Cuts</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="DC.Derivability.html#"><span class="id" title="library">Derivability</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CPL.Deletion.html#"><span class="id" title="library">Deletion</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CPL.Reduction.html#"><span class="id" title="library">Reduction</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CPL.PL.html#"><span class="id" title="library">PL</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="CPL.PL.html#CPL"><span class="id" title="module">CPL</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="CPL.PL.html#CPLNotations"><span class="id" title="module">CPLNotations</span></a>.<br/>

<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">type_scope</span>.<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">list_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Finiteness" class="idref" href="#Finiteness"><span class="id" title="section">Finiteness</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="remove_lsstr" class="idref" href="#remove_lsstr"><span class="id" title="definition">remove_lsstr</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#remove"><span class="id" title="definition">remove</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#list_eq_dec"><span class="id" title="lemma">list_eq_dec</span></a> <a class="idref" href="CPL.Deletion.html#sstructr_eq_dec"><span class="id" title="lemma">sstructr_eq_dec</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Comma_combins" class="idref" href="#Comma_combins"><span class="id" title="definition">Comma_combins</span></a> (<a id="lX1:1" class="idref" href="#lX1:1"><span class="id" title="binder">lX1</span></a> <a id="lX2:2" class="idref" href="#lX2:2"><span class="id" title="binder">lX2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CPL.PL.html#CPL.structr"><span class="id" title="inductive">structr</span></a>)) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CPL.PL.html#CPL.structr"><span class="id" title="inductive">structr</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> <a id="X:3" class="idref" href="#X:3"><span class="id" title="binder">X</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#app"><span class="id" title="definition">app</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="CPL.PL.html#CPL.Comma"><span class="id" title="constructor">Comma</span></a> <a class="idref" href="CPL.Finiteness.html#X:3"><span class="id" title="variable">X</span></a>) <a class="idref" href="CPL.Finiteness.html#lX2:2"><span class="id" title="variable">lX2</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="CPL.Finiteness.html#lX1:1"><span class="id" title="variable">lX1</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SCN_combins" class="idref" href="#SCN_combins"><span class="id" title="definition">SCN_combins</span></a> (<a id="lX1:4" class="idref" href="#lX1:4"><span class="id" title="binder">lX1</span></a> <a id="lX2:5" class="idref" href="#lX2:5"><span class="id" title="binder">lX2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CPL.PL.html#CPL.structr"><span class="id" title="inductive">structr</span></a>)) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CPL.PL.html#CPL.structr"><span class="id" title="inductive">structr</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> <a id="X:6" class="idref" href="#X:6"><span class="id" title="binder">X</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#app"><span class="id" title="definition">app</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="Y:7" class="idref" href="#Y:7"><span class="id" title="binder">Y</span></a> =&gt; <a class="idref" href="CPL.PL.html#526fa6395b0ff8142557909921ccbf53"><span class="id" title="notation">∗(</span></a><a class="idref" href="CPL.Deletion.html#tog"><span class="id" title="definition">tog</span></a> <a class="idref" href="CPL.Finiteness.html#X:6"><span class="id" title="variable">X</span></a><a class="idref" href="CPL.PL.html#40ae07a12a69ccdfdec3709bf89e308f"><span class="id" title="notation">,,</span></a> <a class="idref" href="CPL.Deletion.html#tog"><span class="id" title="definition">tog</span></a> <a class="idref" href="CPL.Finiteness.html#Y:7"><span class="id" title="variable">Y</span></a><a class="idref" href="CPL.PL.html#526fa6395b0ff8142557909921ccbf53"><span class="id" title="notation">)</span></a>) <a class="idref" href="CPL.Finiteness.html#lX2:5"><span class="id" title="variable">lX2</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="CPL.Finiteness.html#lX1:4"><span class="id" title="variable">lX1</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="finite_prim_strStreduced" class="idref" href="#finite_prim_strStreduced"><span class="id" title="lemma">finite_prim_strStreduced</span></a> (<a id="ls:8" class="idref" href="#ls:8"><span class="id" title="binder">ls</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CPL.Deletion.html#sstructr"><span class="id" title="definition">sstructr</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="sX:9" class="idref" href="#sX:9"><span class="id" title="binder">sX</span></a> =&gt; <a class="idref" href="CPL.Deletion.html#isPrim"><span class="id" title="definition">isPrim</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="CPL.Finiteness.html#sX:9"><span class="id" title="variable">sX</span></a>)) <a class="idref" href="CPL.Finiteness.html#ls:8"><span class="id" title="variable">ls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a><a id="lX:10" class="idref" href="#lX:10"><span class="id" title="binder">lX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CPL.PL.html#CPL.structr"><span class="id" title="inductive">structr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="X:11" class="idref" href="#X:11"><span class="id" title="binder">X</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CPL.Finiteness.html#X:11"><span class="id" title="variable">X</span></a> <a class="idref" href="CPL.Finiteness.html#lX:10"><span class="id" title="variable">lX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CPL.Reduction.html#strStreduced"><span class="id" title="definition">strStreduced</span></a> <a class="idref" href="CPL.Finiteness.html#X:11"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="DC.ListSetNotations.html#mset_eq"><span class="id" title="definition">mset_eq</span></a> (<a class="idref" href="CPL.Deletion.html#strPR"><span class="id" title="definition">strPR</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="CPL.Finiteness.html#X:11"><span class="id" title="variable">X</span></a>) <a class="idref" href="CPL.Finiteness.html#ls:8"><span class="id" title="variable">ls</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ls</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ls</span> <span class="id" title="var">IH</span>] <span class="id" title="keyword">using</span> (<a class="idref" href="DC.ListExtra1.html#wf_nat_ind"><span class="id" title="definition">wf_nat_ind</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="CPL.Deletion.html#sstructr"><span class="id" title="definition">sstructr</span></a>)). <span class="id" title="tactic">intro</span> <span class="id" title="var">Hallpr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">ls</span>) <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqlen</span>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#length_zero_iff_nil"><span class="id" title="lemma">length_zero_iff_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqlen</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">_</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra1.html#mset_eq_length"><span class="id" title="lemma">mset_eq_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CPL.Deletion.html#nb_PR_ge1"><span class="id" title="lemma">nb_PR_ge1</span></a> <span class="id" title="var">X</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>). <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">ls</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">sZ</span> <span class="id" title="var">ls</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall_inv"><span class="id" title="lemma">Forall_inv</span></a> <span class="id" title="var">Hallpr</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HprZ</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HprZ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ls</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>. <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="CPL.Deletion.html#tostar"><span class="id" title="definition">tostar</span></a> <span class="id" title="var">sZ</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">sZ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">sgn</span> <span class="id" title="var">Z</span>]. <span class="id" title="tactic">intro</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">HinX</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">HinX</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HeqX</span>|]; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HeqX</span>. <span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="CPL.Reduction.html#isPrim_strStred_tostar"><span class="id" title="lemma">isPrim_strStred_tostar</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CPL.Deletion.html#PR_tostar_eq"><span class="id" title="lemma">PR_tostar_eq</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra1.html#mset_eq_refl"><span class="id" title="lemma">mset_eq_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [<span class="id" title="var">HstX</span> <span class="id" title="var">Hmeq</span>]. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CPL.Reduction.html#st_pr_PR_eq_tostar"><span class="id" title="lemma">st_pr_PR_eq_tostar</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra1.html#mset_eq_singl_eq"><span class="id" title="lemma">mset_eq_singl_eq</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<a class="idref" href="DC.ListExtra2.html#ForallT"><span class="id" title="inductive">ForallT</span></a> (<span class="id" title="keyword">fun</span> <a id="y:12" class="idref" href="#y:12"><span class="id" title="binder"><span id="y:16" class="id">y</span></span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a><a id="plX:13" class="idref" href="#plX:13"><span class="id" title="binder"><span id="plX:17" class="id">plX</span></span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CPL.PL.html#CPL.structr"><span class="id" title="inductive">structr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CPL.PL.html#CPL.structr"><span class="id" title="inductive">structr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="X:14" class="idref" href="#X:14"><span class="id" title="binder"><span id="X:18" class="id">X</span></span></a> : <a class="idref" href="CPL.PL.html#CPL.structr"><span class="id" title="inductive">structr</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CPL.Finiteness.html#X:14"><span class="id" title="variable">X</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="CPL.Finiteness.html#plX:13"><span class="id" title="variable">plX</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="CPL.Reduction.html#strStreduced"><span class="id" title="definition">strStreduced</span></a> <a class="idref" href="CPL.Finiteness.html#X:14"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="DC.ListSetNotations.html#mset_eq"><span class="id" title="definition">mset_eq</span></a> (<a class="idref" href="CPL.Deletion.html#strPR"><span class="id" title="definition">strPR</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="CPL.Finiteness.html#X:14"><span class="id" title="variable">X</span></a>) <a class="idref" href="CPL.Finiteness.html#y:12"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="X:15" class="idref" href="#X:15"><span class="id" title="binder"><span id="X:19" class="id">X</span></span></a> : <a class="idref" href="CPL.PL.html#CPL.structr"><span class="id" title="inductive">structr</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CPL.Finiteness.html#X:15"><span class="id" title="variable">X</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="CPL.Finiteness.html#plX:13"><span class="id" title="variable">plX</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="CPL.Reduction.html#strStreduced"><span class="id" title="definition">strStreduced</span></a> <a class="idref" href="CPL.Finiteness.html#X:15"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="DC.ListSetNotations.html#mset_eq"><span class="id" title="definition">mset_eq</span></a> (<a class="idref" href="CPL.Deletion.html#strPR"><span class="id" title="definition">strPR</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="CPL.Finiteness.html#X:15"><span class="id" title="variable">X</span></a>) (<a class="idref" href="DC.ListExtra1.html#mset_compl"><span class="id" title="definition">mset_compl</span></a> <a class="idref" href="CPL.Finiteness.html#y:12"><span class="id" title="variable">y</span></a> <span class="id" title="var">ls</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DC.ListExtra2.html#nt_power_mset"><span class="id" title="definition">nt_power_mset</span></a> <span class="id" title="var">ls</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra2.html#ForallT_forall"><span class="id" title="lemma">ForallT_forall</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">Hinl</span>. <span class="id" title="tactic">apply</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.SetoidList.html#In_InA"><span class="id" title="lemma">In_InA</span></a> <span class="id" title="var">_</span> <a class="idref" href="DC.ListSetNotations.html#mset_eq"><span class="id" title="definition">mset_eq</span></a> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hinl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra2.html#nt_power_mset_all"><span class="id" title="lemma">nt_power_mset_all</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hinclls</span> [<span class="id" title="var">Hlenl0</span> <span class="id" title="var">Hlenlls</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="DC.ListExtra1.html#mset_incl_length"><span class="id" title="lemma">mset_incl_length</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hinclls</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hlenlle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">IH</span> <span class="id" title="var">l</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">flX</span> <span class="id" title="var">HflX</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqlen</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#incl_Forall"><span class="id" title="lemma">incl_Forall</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra1.html#mset_incl_incl"><span class="id" title="lemma">mset_incl_incl</span></a>. <span class="id" title="var">eassumption</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">IH</span> (<a class="idref" href="DC.ListExtra1.html#mset_compl"><span class="id" title="definition">mset_compl</span></a> <span class="id" title="var">l</span> <span class="id" title="var">ls</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">slX</span> <span class="id" title="var">HslX</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="DC.ListExtra1.html#mset_compl_length"><span class="id" title="lemma">mset_compl_length</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hinclls</span>), &lt;- <span class="id" title="var">Heqlen</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#incl_Forall"><span class="id" title="lemma">incl_Forall</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra1.html#mset_incl_incl"><span class="id" title="lemma">mset_incl_incl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra1.html#mset_compl_mset_incl"><span class="id" title="lemma">mset_compl_mset_incl</span></a>. <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">flX</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">slX</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">assumption</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra2.html#ForallT_sig_elim"><span class="id" title="lemma">ForallT_sig_elim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hall</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ll</span> <span class="id" title="var">Hll</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">lCom</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> <a id="pl:20" class="idref" href="#pl:20"><span class="id" title="binder"><span id="pl:21" class="id">pl</span></span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#app"><span class="id" title="definition">app</span></a> (<a class="idref" href="CPL.Finiteness.html#Comma_combins"><span class="id" title="definition">Comma_combins</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="CPL.Finiteness.html#pl:20"><span class="id" title="variable">pl</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="CPL.Finiteness.html#pl:20"><span class="id" title="variable">pl</span></a>))) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">ll</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">lSCN</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> <a id="pl:22" class="idref" href="#pl:22"><span class="id" title="binder"><span id="pl:23" class="id">pl</span></span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#app"><span class="id" title="definition">app</span></a> (<a class="idref" href="CPL.Finiteness.html#SCN_combins"><span class="id" title="definition">SCN_combins</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="CPL.Finiteness.html#pl:22"><span class="id" title="variable">pl</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="CPL.Finiteness.html#pl:22"><span class="id" title="variable">pl</span></a>))) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">ll</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">lCom</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">lSCN</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">HinX</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HinX</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">HinX</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HinX</span>|<span class="id" title="var">HinX</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra2.html#In_fold_right_app_iff"><span class="id" title="lemma">In_fold_right_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HinX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HinX</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l</span> [<span class="id" title="var">Hlinll</span> <span class="id" title="var">Hl</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra2.html#In_fold_right_app_iff"><span class="id" title="lemma">In_fold_right_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Y</span> [<span class="id" title="var">HinY</span> <span class="id" title="var">HinX</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HinX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HinX</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Z</span> [<span class="id" title="var">HeqX</span> <span class="id" title="var">HinZ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="DC.ListExtra2.html#Forall2_sig_l"><span class="id" title="lemma">Forall2_sig_l</span></a> <span class="id" title="var">Hll</span> <span class="id" title="var">_</span> <span class="id" title="var">Hlinll</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">ls0</span> [<span class="id" title="var">Hinls0</span> [<span class="id" title="var">Hls0</span> <span class="id" title="var">Hcls0</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hls0</span> <span class="id" title="var">Y</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hls0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hls0</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hls0</span> <span class="id" title="var">HinY</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hls0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HstrY</span> <span class="id" title="var">HmeqY</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hcls0</span> <span class="id" title="var">Z</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcls0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hcls0</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hcls0</span> <span class="id" title="var">HinZ</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcls0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HstrZ</span> <span class="id" title="var">HmeqZ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HeqX</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.SetoidList.html#In_InA"><span class="id" title="lemma">In_InA</span></a> <span class="id" title="var">_</span> <a class="idref" href="DC.ListSetNotations.html#mset_eq"><span class="id" title="definition">mset_eq</span></a> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hinls0</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra2.html#nt_power_mset_all"><span class="id" title="lemma">nt_power_mset_all</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinls0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinls0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hincls0ls</span> [<span class="id" title="var">Hlenls0</span> <span class="id" title="var">Hlenls0ls</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="DC.ListExtra1.html#mset_eq_tran"><span class="id" title="lemma">mset_eq_tran</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">apply</span> (<a class="idref" href="DC.ListExtra1.html#mset_compl_ppty"><span class="id" title="lemma">mset_compl_ppty</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hincls0ls</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra1.html#mset_eq_app_app"><span class="id" title="lemma">mset_eq_app_app</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra2.html#In_fold_right_app_iff"><span class="id" title="lemma">In_fold_right_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HinX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HinX</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l</span> [<span class="id" title="var">Hlinll</span> <span class="id" title="var">Hl</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra2.html#In_fold_right_app_iff"><span class="id" title="lemma">In_fold_right_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Y</span> [<span class="id" title="var">HinY</span> <span class="id" title="var">HinX</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HinX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HinX</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Z</span> [<span class="id" title="var">HeqX</span> <span class="id" title="var">HinZ</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="DC.ListExtra2.html#Forall2_sig_l"><span class="id" title="lemma">Forall2_sig_l</span></a> <span class="id" title="var">Hll</span> <span class="id" title="var">_</span> <span class="id" title="var">Hlinll</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">ls0</span> [<span class="id" title="var">Hinls0</span> [<span class="id" title="var">Hls0</span> <span class="id" title="var">Hcls0</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hls0</span> <span class="id" title="var">Y</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hls0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hls0</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hls0</span> <span class="id" title="var">HinY</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hls0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HstrY</span> <span class="id" title="var">HmeqY</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hcls0</span> <span class="id" title="var">Z</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcls0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hcls0</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hcls0</span> <span class="id" title="var">HinZ</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcls0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HstrZ</span> <span class="id" title="var">HmeqZ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HeqX</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="CPL.Reduction.html#tog_strStreduced"><span class="id" title="lemma">tog_strStreduced</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.SetoidList.html#In_InA"><span class="id" title="lemma">In_InA</span></a> <span class="id" title="var">_</span> <a class="idref" href="DC.ListSetNotations.html#mset_eq"><span class="id" title="definition">mset_eq</span></a> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hinls0</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra2.html#nt_power_mset_all"><span class="id" title="lemma">nt_power_mset_all</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinls0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinls0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hincls0ls</span> [<span class="id" title="var">Hlenls0</span> <span class="id" title="var">Hlenls0ls</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="DC.ListExtra1.html#mset_eq_tran"><span class="id" title="lemma">mset_eq_tran</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">apply</span> (<a class="idref" href="DC.ListExtra1.html#mset_compl_ppty"><span class="id" title="lemma">mset_compl_ppty</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hincls0ls</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ! <a class="idref" href="CPL.Deletion.html#PR_tog"><span class="id" title="lemma">PR_tog</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra1.html#mset_eq_app_app"><span class="id" title="lemma">mset_eq_app_app</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [<span class="id" title="var">HstX</span> <span class="id" title="var">HPRX</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">try</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra1.html#mset_eq_length"><span class="id" title="lemma">mset_eq_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HPRX</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqlen</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HPRX</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HPRX</span>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HPRX</span>, <span class="id" title="var">HstX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="DC.ListExtra1.html#mset_eq_length"><span class="id" title="lemma">mset_eq_length</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HPRX</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HlenPRX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqlen</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HlenPRX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HlenPRX</span>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra2.html#In_fold_right_app_iff"><span class="id" title="lemma">In_fold_right_app_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HPRX</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HstX</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">HstX</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HstX1</span> <span class="id" title="var">HstX2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Bool.Bool.html#negb_involutive"><span class="id" title="lemma">negb_involutive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">HPRX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">HPRX</span>. <span class="id" title="tactic">rewrite</span> &lt;- ! <a class="idref" href="CPL.Deletion.html#PR_tog"><span class="id" title="lemma">PR_tog</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HPRX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="DC.ListExtra1.html#mset_eq_app_mset_compl"><span class="id" title="lemma">mset_eq_app_mset_compl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HPRX</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heqcompl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="DC.ListSetNotations.html#mset_eq"><span class="id" title="definition">mset_eq</span></a> (<a class="idref" href="CPL.Deletion.html#strPR"><span class="id" title="definition">strPR</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> (<a class="idref" href="CPL.Deletion.html#tog"><span class="id" title="definition">tog</span></a> <span class="id" title="var">X1</span>)) (<a class="idref" href="DC.ListExtra2.html#nt_power_mset"><span class="id" title="definition">nt_power_mset</span></a> <span class="id" title="var">ls</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">HInA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra2.html#nt_power_mset_all"><span class="id" title="lemma">nt_power_mset_all</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="DC.ListExtra1.html#mset_incl_tran"><span class="id" title="lemma">mset_incl_tran</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra1.html#mset_eq_incl"><span class="id" title="lemma">mset_eq_incl</span></a>; <span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra1.html#mset_incl_appl"><span class="id" title="lemma">mset_incl_appl</span></a>, <a class="idref" href="DC.ListExtra1.html#mset_incl_refl"><span class="id" title="lemma">mset_incl_refl</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CPL.Deletion.html#nb_PR_ge1"><span class="id" title="lemma">nb_PR_ge1</span></a> (<a class="idref" href="CPL.Deletion.html#tog"><span class="id" title="definition">tog</span></a> <span class="id" title="var">X1</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>). <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra1.html#mset_eq_length"><span class="id" title="lemma">mset_eq_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HPRX</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HPRX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CPL.Deletion.html#nb_PR_ge1"><span class="id" title="lemma">nb_PR_ge1</span></a> (<a class="idref" href="CPL.Deletion.html#tog"><span class="id" title="definition">tog</span></a> <span class="id" title="var">X2</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>). <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HInA</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">HInA</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l1</span> [<span class="id" title="var">Hmeq1</span> <span class="id" title="var">Hin1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="DC.ListExtra2.html#Forall2_sig_r"><span class="id" title="lemma">Forall2_sig_r</span></a> <span class="id" title="var">Hll</span> <span class="id" title="var">l1</span> <span class="id" title="var">Hin1</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">l</span> [<span class="id" title="var">Hinl</span> [<span class="id" title="var">Hfl</span> <span class="id" title="var">Hsl</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra2.html#In_fold_right_app_iff"><span class="id" title="lemma">In_fold_right_app_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CPL.Deletion.html#tog"><span class="id" title="definition">tog</span></a> <span class="id" title="var">X1</span>). <span class="id" title="tactic">split</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hfl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CPL.Reduction.html#tog_strStreduced"><span class="id" title="lemma">tog_strStreduced</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HstX1</span>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CPL.Deletion.html#tog"><span class="id" title="definition">tog</span></a> <span class="id" title="var">X2</span>). <span class="id" title="tactic">rewrite</span> ! <a class="idref" href="CPL.Reduction.html#tog_invol"><span class="id" title="lemma">tog_invol</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hsl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="CPL.Reduction.html#tog_strStreduced"><span class="id" title="lemma">tog_strStreduced</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="DC.ListExtra1.html#mset_eq_tran"><span class="id" title="lemma">mset_eq_tran</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra1.html#mset_compl_mset_eq_l"><span class="id" title="lemma">mset_compl_mset_eq_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="DC.ListExtra1.html#mset_incl_tran"><span class="id" title="lemma">mset_incl_tran</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra1.html#mset_eq_incl"><span class="id" title="lemma">mset_eq_incl</span></a>; <span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra1.html#mset_incl_appl"><span class="id" title="lemma">mset_incl_appl</span></a>, <a class="idref" href="DC.ListExtra1.html#mset_incl_refl"><span class="id" title="lemma">mset_incl_refl</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HPRX</span>, <span class="id" title="var">HstX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="DC.ListExtra1.html#mset_eq_app_mset_compl"><span class="id" title="lemma">mset_eq_app_mset_compl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HPRX</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heqcompl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra2.html#In_fold_right_app_iff"><span class="id" title="lemma">In_fold_right_app_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="DC.ListSetNotations.html#mset_eq"><span class="id" title="definition">mset_eq</span></a> (<a class="idref" href="CPL.Deletion.html#strPR"><span class="id" title="definition">strPR</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="var">X1</span>) (<a class="idref" href="DC.ListExtra2.html#nt_power_mset"><span class="id" title="definition">nt_power_mset</span></a> <span class="id" title="var">ls</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">HInA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra2.html#nt_power_mset_all"><span class="id" title="lemma">nt_power_mset_all</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="DC.ListExtra1.html#mset_incl_tran"><span class="id" title="lemma">mset_incl_tran</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra1.html#mset_eq_incl"><span class="id" title="lemma">mset_eq_incl</span></a>; <span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra1.html#mset_incl_appl"><span class="id" title="lemma">mset_incl_appl</span></a>, <a class="idref" href="DC.ListExtra1.html#mset_incl_refl"><span class="id" title="lemma">mset_incl_refl</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CPL.Deletion.html#nb_PR_ge1"><span class="id" title="lemma">nb_PR_ge1</span></a> <span class="id" title="var">X1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>). <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra1.html#mset_eq_length"><span class="id" title="lemma">mset_eq_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HPRX</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HPRX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CPL.Deletion.html#nb_PR_ge1"><span class="id" title="lemma">nb_PR_ge1</span></a> <span class="id" title="var">X2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>). <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HInA</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">HInA</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l1</span> [<span class="id" title="var">Hmeq1</span> <span class="id" title="var">Hin1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="DC.ListExtra2.html#Forall2_sig_r"><span class="id" title="lemma">Forall2_sig_r</span></a> <span class="id" title="var">Hll</span> <span class="id" title="var">l1</span> <span class="id" title="var">Hin1</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">l</span> [<span class="id" title="var">Hinl</span> [<span class="id" title="var">Hfl</span> <span class="id" title="var">Hsl</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra2.html#In_fold_right_app_iff"><span class="id" title="lemma">In_fold_right_app_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">X1</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hfl</span>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>. <span class="id" title="tactic">exists</span> <span class="id" title="var">X2</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hsl</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="DC.ListExtra1.html#mset_eq_tran"><span class="id" title="lemma">mset_eq_tran</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra1.html#mset_compl_mset_eq_l"><span class="id" title="lemma">mset_compl_mset_eq_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="DC.ListExtra1.html#mset_incl_tran"><span class="id" title="lemma">mset_incl_tran</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra1.html#mset_eq_incl"><span class="id" title="lemma">mset_eq_incl</span></a>; <span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra1.html#mset_incl_appl"><span class="id" title="lemma">mset_incl_appl</span></a>, <a class="idref" href="DC.ListExtra1.html#mset_incl_refl"><span class="id" title="lemma">mset_incl_refl</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="finite_strStreduced" class="idref" href="#finite_strStreduced"><span class="id" title="lemma">finite_strStreduced</span></a> (<a id="ls:24" class="idref" href="#ls:24"><span class="id" title="binder">ls</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CPL.Deletion.html#sstructr"><span class="id" title="definition">sstructr</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a><a id="lX:25" class="idref" href="#lX:25"><span class="id" title="binder">lX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CPL.PL.html#CPL.structr"><span class="id" title="inductive">structr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="X:26" class="idref" href="#X:26"><span class="id" title="binder">X</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CPL.Finiteness.html#X:26"><span class="id" title="variable">X</span></a> <a class="idref" href="CPL.Finiteness.html#lX:25"><span class="id" title="variable">lX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CPL.Reduction.html#strStreduced"><span class="id" title="definition">strStreduced</span></a> <a class="idref" href="CPL.Finiteness.html#X:26"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="DC.ListSetNotations.html#mset_eq"><span class="id" title="definition">mset_eq</span></a> (<a class="idref" href="CPL.Deletion.html#strPR"><span class="id" title="definition">strPR</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="CPL.Finiteness.html#X:26"><span class="id" title="variable">X</span></a>) <a class="idref" href="CPL.Finiteness.html#ls:24"><span class="id" title="variable">ls</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall_Exists_dec"><span class="id" title="lemma">Forall_Exists_dec</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="sX:27" class="idref" href="#sX:27"><span class="id" title="binder"><span id="sX:28" class="id">sX</span></span></a> =&gt; <a class="idref" href="CPL.Deletion.html#isPrim_dec"><span class="id" title="lemma">isPrim_dec</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="CPL.Finiteness.html#sX:27"><span class="id" title="variable">sX</span></a>)) <span class="id" title="var">ls</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hall</span>|<span class="id" title="var">Hexn</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="CPL.Finiteness.html#finite_prim_strStreduced"><span class="id" title="lemma">finite_prim_strStreduced</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>. <span class="id" title="tactic">intro</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">_</span> <span class="id" title="var">H</span>]. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hexn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hexn</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">sX</span> [<span class="id" title="var">Hin</span> <span class="id" title="var">Hnpr</span>]]. <span class="id" title="var">contradict</span> <span class="id" title="var">Hnpr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CPL.Deletion.html#PR_isPrim"><span class="id" title="lemma">PR_isPrim</span></a> <span class="id" title="var">X</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>). <span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra1.html#mset_eq_set_eq"><span class="id" title="lemma">mset_eq_set_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="strToSeq" class="idref" href="#strToSeq"><span class="id" title="definition">strToSeq</span></a> (<a id="l:29" class="idref" href="#l:29"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CPL.PL.html#CPL.structr"><span class="id" title="inductive">structr</span></a>)) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="DC.Sequents.html#sequent"><span class="id" title="inductive">sequent</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CPL.Finiteness.html#l:29"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>     =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">Z</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">X</span><a class="idref" href="CPL.PL.html#40ae07a12a69ccdfdec3709bf89e308f"><span class="id" title="notation">,,</span></a> <span class="id" title="var">Y</span> =&gt; <a class="idref" href="CPL.Deletion.html#tog"><span class="id" title="definition">tog</span></a> <span class="id" title="var">X</span> <a class="idref" href="DC.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <span class="id" title="var">Y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="CPL.Finiteness.html#strToSeq:30"><span class="id" title="definition">strToSeq</span></a> <span class="id" title="var">l'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>     =&gt; <a class="idref" href="CPL.Finiteness.html#strToSeq:30"><span class="id" title="definition">strToSeq</span></a> <span class="id" title="var">l'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="strToSeq_In" class="idref" href="#strToSeq_In"><span class="id" title="lemma">strToSeq_In</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="l:33" class="idref" href="#l:33"><span class="id" title="binder">l</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="CPL.Reduction.html#strStreduced"><span class="id" title="definition">strStreduced</span></a> <a class="idref" href="CPL.Finiteness.html#l:33"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="X:34" class="idref" href="#X:34"><span class="id" title="binder">X</span></a> <a id="Y:35" class="idref" href="#Y:35"><span class="id" title="binder">Y</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="CPL.Finiteness.html#X:34"><span class="id" title="variable">X</span></a> <a class="idref" href="DC.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CPL.Finiteness.html#Y:35"><span class="id" title="variable">Y</span></a>) (<a class="idref" href="CPL.Finiteness.html#strToSeq"><span class="id" title="definition">strToSeq</span></a> <a class="idref" href="CPL.Finiteness.html#l:33"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CPL.Reduction.html#seqStreduced"><span class="id" title="definition">seqStreduced</span></a> (<a class="idref" href="CPL.Finiteness.html#X:34"><span class="id" title="variable">X</span></a> <a class="idref" href="DC.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CPL.Finiteness.html#Y:35"><span class="id" title="variable">Y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="CPL.Deletion.html#tog"><span class="id" title="definition">tog</span></a> <a class="idref" href="CPL.Finiteness.html#X:34"><span class="id" title="variable">X</span></a><a class="idref" href="CPL.PL.html#40ae07a12a69ccdfdec3709bf89e308f"><span class="id" title="notation">,,</span></a> <a class="idref" href="CPL.Finiteness.html#Y:35"><span class="id" title="variable">Y</span></a>) <a class="idref" href="CPL.Finiteness.html#l:33"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">Z</span> <span class="id" title="var">l</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hst</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall_inv"><span class="id" title="lemma">Forall_inv</span></a> <span class="id" title="var">Hst</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HstZ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall_inv_tail"><span class="id" title="lemma">Forall_inv_tail</span></a> <span class="id" title="var">Hst</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hstl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">HinXY</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Z</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">destruct</span> <span class="id" title="var">HinXY</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HeqXY</span>|<span class="id" title="var">HinXY</span>]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HinXY</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HinXY</span>; <span class="id" title="tactic">tauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HstZ</span>. <span class="id" title="tactic">injection</span> <span class="id" title="var">HeqXY</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HeqY</span> <span class="id" title="var">HeqX</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HeqX</span>, &lt;- <span class="id" title="var">HeqY</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CPL.Reduction.html#tog_strStreduced"><span class="id" title="lemma">tog_strStreduced</span></a>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CPL.Reduction.html#tog_invol"><span class="id" title="lemma">tog_invol</span></a>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [[<span class="id" title="var">HstX</span> <span class="id" title="var">HstY</span>] [<span class="id" title="var">HeqZ</span>|<span class="id" title="var">Hin</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Z</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">injection</span> <span class="id" title="var">HeqZ</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">HeqZ2</span> <span class="id" title="var">HeqZ1</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HeqZ1</span>, <span class="id" title="var">HeqZ2</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CPL.Reduction.html#tog_invol"><span class="id" title="lemma">tog_invol</span></a>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Z</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">right</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="finite_seqStreduced" class="idref" href="#finite_seqStreduced"><span class="id" title="lemma">finite_seqStreduced</span></a> (<a id="ls:36" class="idref" href="#ls:36"><span class="id" title="binder">ls</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CPL.Deletion.html#sstructr"><span class="id" title="definition">sstructr</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a><a id="lu:37" class="idref" href="#lu:37"><span class="id" title="binder">lu</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="DC.Sequents.html#sequent"><span class="id" title="inductive">sequent</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="s:38" class="idref" href="#s:38"><span class="id" title="binder">s</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CPL.Finiteness.html#s:38"><span class="id" title="variable">s</span></a> <a class="idref" href="CPL.Finiteness.html#lu:37"><span class="id" title="variable">lu</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CPL.Reduction.html#seqStreduced"><span class="id" title="definition">seqStreduced</span></a> <a class="idref" href="CPL.Finiteness.html#s:38"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="DC.ListSetNotations.html#mset_eq"><span class="id" title="definition">mset_eq</span></a> (<a class="idref" href="CPL.Deletion.html#PR"><span class="id" title="definition">PR</span></a> <a class="idref" href="CPL.Finiteness.html#s:38"><span class="id" title="variable">s</span></a>) <a class="idref" href="CPL.Finiteness.html#ls:36"><span class="id" title="variable">ls</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CPL.Finiteness.html#finite_strStreduced"><span class="id" title="lemma">finite_strStreduced</span></a> <span class="id" title="var">ls</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">lX</span> <span class="id" title="var">HlX</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CPL.Finiteness.html#strToSeq"><span class="id" title="definition">strToSeq</span></a> <span class="id" title="var">lX</span>). <span class="id" title="tactic">intro</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CPL.Finiteness.html#strToSeq_In"><span class="id" title="lemma">strToSeq_In</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HlX</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CPL.Deletion.html#PR_tog"><span class="id" title="lemma">PR_tog</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>). <span class="id" title="tactic">apply</span> <a class="idref" href="CPL.Reduction.html#tog_strStreduced"><span class="id" title="lemma">tog_strStreduced</span></a>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">Forall_forall</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Z</span> <span class="id" title="var">HZ</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">HlX</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="finite_seqStreduced_multi" class="idref" href="#finite_seqStreduced_multi"><span class="id" title="lemma">finite_seqStreduced_multi</span></a> (<a id="llX:39" class="idref" href="#llX:39"><span class="id" title="binder">llX</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CPL.Deletion.html#sstructr"><span class="id" title="definition">sstructr</span></a>))) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a><a id="ls:40" class="idref" href="#ls:40"><span class="id" title="binder">ls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="DC.Sequents.html#sequent"><span class="id" title="inductive">sequent</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="s:41" class="idref" href="#s:41"><span class="id" title="binder">s</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CPL.Finiteness.html#s:41"><span class="id" title="variable">s</span></a> <a class="idref" href="CPL.Finiteness.html#ls:40"><span class="id" title="variable">ls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CPL.Reduction.html#seqStreduced"><span class="id" title="definition">seqStreduced</span></a> <a class="idref" href="CPL.Finiteness.html#s:41"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="DC.ListSetNotations.html#mset_eq"><span class="id" title="definition">mset_eq</span></a> (<a class="idref" href="CPL.Deletion.html#PR"><span class="id" title="definition">PR</span></a> <a class="idref" href="CPL.Finiteness.html#s:41"><span class="id" title="variable">s</span></a>) <a class="idref" href="CPL.Finiteness.html#llX:39"><span class="id" title="variable">llX</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> <a id="l:42" class="idref" href="#l:42"><span class="id" title="binder"><span id="l:43" class="id">l</span></span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#app"><span class="id" title="definition">app</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> (<a class="idref" href="CPL.Finiteness.html#finite_seqStreduced"><span class="id" title="lemma">finite_seqStreduced</span></a> <a class="idref" href="CPL.Finiteness.html#l:42"><span class="id" title="variable">l</span></a>))) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">llX</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.ListExtra2.html#In_fold_right_app_iff"><span class="id" title="lemma">In_fold_right_app_iff</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">l</span> [<span class="id" title="var">Hinl</span> <span class="id" title="var">Hins</span>]]. <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#proj2_sig"><span class="id" title="definition">proj2_sig</span></a> (<a class="idref" href="CPL.Finiteness.html#finite_seqStreduced"><span class="id" title="lemma">finite_seqStreduced</span></a> <span class="id" title="var">l</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hins</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hins</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hsts</span> <span class="id" title="var">Hmeq</span>]. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a>. <span class="id" title="tactic">exists</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">Hsts</span> <span class="id" title="var">HInA</span>]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HInA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HInA</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l</span> [<span class="id" title="var">Hmeq</span> <span class="id" title="var">Hinl</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#proj2_sig"><span class="id" title="definition">proj2_sig</span></a> (<a class="idref" href="CPL.Finiteness.html#finite_seqStreduced"><span class="id" title="lemma">finite_seqStreduced</span></a> <span class="id" title="var">l</span>)). <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="finite_seqSemireduced" class="idref" href="#finite_seqSemireduced"><span class="id" title="lemma">finite_seqSemireduced</span></a> (<a id="lX:44" class="idref" href="#lX:44"><span class="id" title="binder">lX</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CPL.Deletion.html#sstructr"><span class="id" title="definition">sstructr</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a><a id="ls:45" class="idref" href="#ls:45"><span class="id" title="binder">ls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="DC.Sequents.html#sequent"><span class="id" title="inductive">sequent</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="s:46" class="idref" href="#s:46"><span class="id" title="binder">s</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CPL.Finiteness.html#s:46"><span class="id" title="variable">s</span></a> <a class="idref" href="CPL.Finiteness.html#ls:45"><span class="id" title="variable">ls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CPL.Reduction.html#seqSemireduced"><span class="id" title="definition">seqSemireduced</span></a> <a class="idref" href="CPL.Finiteness.html#s:46"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#incl"><span class="id" title="definition">incl</span></a> (<a class="idref" href="CPL.Deletion.html#PR"><span class="id" title="definition">PR</span></a> <a class="idref" href="CPL.Finiteness.html#s:46"><span class="id" title="variable">s</span></a>) <a class="idref" href="CPL.Finiteness.html#lX:44"><span class="id" title="variable">lX</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">lX</span> <span class="id" title="var">into</span> <span class="id" title="var">lX'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">lX</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#nodup"><span class="id" title="definition">nodup</span></a> <a class="idref" href="CPL.Deletion.html#sstructr_eq_dec"><span class="id" title="lemma">sstructr_eq_dec</span></a> <span class="id" title="var">lX'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#NoDup"><span class="id" title="inductive">NoDup</span></a> <span class="id" title="var">lX</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HNDlX</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#NoDup_nodup"><span class="id" title="lemma">NoDup_nodup</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="DC.ListExtra2.html#all_msets_len"><span class="id" title="lemma">all_msets_len</span></a> <span class="id" title="var">lX</span> 2) <span class="id" title="keyword">as</span> [<span class="id" title="var">lX2</span> <span class="id" title="var">HlX2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">lXp</span> := <a class="idref" href="DC.ListExtra1.html#power_mset"><span class="id" title="definition">power_mset</span></a> <span class="id" title="var">lX</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="DC.ListExtra1.html#power_mset_all"><span class="id" title="lemma">power_mset_all</span></a> <span class="id" title="var">lX</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HlXp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <a class="idref" href="DC.ListSetNotations.html#mset_incl"><span class="id" title="definition">mset_incl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HlXp</span>. <span class="id" title="tactic">fold</span> <a class="idref" href="DC.ListSetNotations.html#mset_eq"><span class="id" title="definition">mset_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HlXp</span>. <span class="id" title="tactic">fold</span> <span class="id" title="var">lXp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HlXp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="DC.ListExtra2.html#all_msets_len"><span class="id" title="lemma">all_msets_len</span></a> <span class="id" title="var">lX</span> 3) <span class="id" title="keyword">as</span> [<span class="id" title="var">lX3</span> <span class="id" title="var">HlX3</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">lXs</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> <a id="l:47" class="idref" href="#l:47"><span class="id" title="binder"><span id="l:49" class="id">l</span></span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#app"><span class="id" title="definition">app</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="sX:48" class="idref" href="#sX:48"><span class="id" title="binder"><span id="sX:50" class="id">sX</span></span></a> =&gt; <a class="idref" href="CPL.Finiteness.html#sX:48"><span class="id" title="variable">sX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="CPL.Finiteness.html#l:47"><span class="id" title="variable">l</span></a>) <span class="id" title="var">lX</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">lXp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="DC.ListExtra2.html#In_fold_right_app_iff'"><span class="id" title="lemma">In_fold_right_app_iff'</span></a> <span class="id" title="var">lXs</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">HlXs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CPL.Finiteness.html#finite_seqStreduced_multi"><span class="id" title="lemma">finite_seqStreduced_multi</span></a> (<span class="id" title="var">lX2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">lXp</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">lX3</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">lXs</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">ls</span> <span class="id" title="var">Hls</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">ls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- (<a class="idref" href="DC.ListExtra1.html#set_eq_incl_r"><span class="id" title="lemma">set_eq_incl_r</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#nodup_In"><span class="id" title="lemma">nodup_In</span></a> <a class="idref" href="CPL.Deletion.html#sstructr_eq_dec"><span class="id" title="lemma">sstructr_eq_dec</span></a> <span class="id" title="var">lX'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">lX</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CPL.Deletion.html#nb_seqPR_ge2"><span class="id" title="lemma">nb_seqPR_ge2</span></a> <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hlensprs</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hins</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hls</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hins</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hins</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hstred</span> <span class="id" title="var">Hinspr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.SetoidList.html#InA_app_iff"><span class="id" title="lemma">InA_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinspr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinspr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hinspr</span>|[<span class="id" title="var">Hinspr</span>|[<span class="id" title="var">Hinspr</span>|<span class="id" title="var">Hinspr</span>]]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinspr</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinspr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l</span> [<span class="id" title="var">Heql</span> <span class="id" title="var">Hinl</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HlX2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hlenl</span> <span class="id" title="var">Hincl</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="DC.ListExtra1.html#mset_eq_length"><span class="id" title="lemma">mset_eq_length</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heql</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HlenPR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="CPL.Deletion.html#sstructr"><span class="id" title="definition">sstructr</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hlenl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Set&nbsp;Printing&nbsp;All.&nbsp;to&nbsp;understand&nbsp;what's&nbsp;going&nbsp;on&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlenl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HlenPR</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CPL.Reduction.html#dreduced_semidreduced"><span class="id" title="constructor">dreduced_semidreduced</span></a>, <a class="idref" href="CPL.Reduction.html#len2_dreduced"><span class="id" title="constructor">len2_dreduced</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> <span class="id" title="var">sX</span> <span class="id" title="var">HinsX</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hincl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra1.html#mset_eq_set_eq"><span class="id" title="lemma">mset_eq_set_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heql</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Heql</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.SetoidList.html#In_InA"><span class="id" title="lemma">In_InA</span></a> <a class="idref" href="DC.ListExtra1.html#Equivalence_mset_eq"><span class="id" title="definition">Equivalence_mset_eq</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hinl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HlXp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinl</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="DC.ListExtra1.html#mset_eq_incl_l"><span class="id" title="lemma">mset_eq_incl_l</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heql</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hinl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="DC.ListExtra1.html#mset_incl_NoDup"><span class="id" title="lemma">mset_incl_NoDup</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HNDlX</span> <span class="id" title="var">Hinl</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HNDspr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Arith.Compare_dec.html#le_lt_eq_dec"><span class="id" title="definition">le_lt_eq_dec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hlensprs</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hlenlt</span>|<span class="id" title="var">Hleneq</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="CPL.Reduction.html#dreduced_semidreduced"><span class="id" title="constructor">dreduced_semidreduced</span></a>, <a class="idref" href="CPL.Reduction.html#len2_dreduced"><span class="id" title="constructor">len2_dreduced</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hleneq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CPL.Reduction.html#dreduced_semidreduced"><span class="id" title="constructor">dreduced_semidreduced</span></a>, <a class="idref" href="CPL.Reduction.html#ge2_NoDup_dreduced"><span class="id" title="lemma">ge2_NoDup_dreduced</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#incl_tran"><span class="id" title="lemma">incl_tran</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="DC.ListExtra1.html#mset_incl_incl"><span class="id" title="lemma">mset_incl_incl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hinl</span>). <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#incl_refl"><span class="id" title="lemma">incl_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HlX3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hlenl</span> <span class="id" title="var">Hincl</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="DC.ListExtra1.html#mset_eq_length"><span class="id" title="lemma">mset_eq_length</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heql</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HlenPR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="CPL.Deletion.html#sstructr"><span class="id" title="definition">sstructr</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hlenl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlenl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HlenPR</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CPL.Reduction.html#len3_semidreduced"><span class="id" title="lemma">len3_semidreduced</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> <span class="id" title="var">sX</span> <span class="id" title="var">HinsX</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hincl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra1.html#mset_eq_set_eq"><span class="id" title="lemma">mset_eq_set_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heql</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Heql</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HlXs</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l'</span> [<span class="id" title="var">Hinl'</span> <span class="id" title="var">Hinl</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.SetoidList.html#In_InA"><span class="id" title="lemma">In_InA</span></a> <a class="idref" href="DC.ListExtra1.html#Equivalence_mset_eq"><span class="id" title="definition">Equivalence_mset_eq</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hinl'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HlXp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinl'</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">sX</span> [<span class="id" title="var">HeqsX</span> <span class="id" title="var">HinsX</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="DC.ListExtra1.html#mset_incl_NoDup"><span class="id" title="lemma">mset_incl_NoDup</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HNDlX</span> <span class="id" title="var">Hinl'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HNDl'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">sX</span> (<a class="idref" href="CPL.Deletion.html#PR"><span class="id" title="definition">PR</span></a> <span class="id" title="var">s</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">HinsXspr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<a class="idref" href="DC.ListExtra1.html#mset_eq_set_eq"><span class="id" title="lemma">mset_eq_set_eq</span></a> <span class="id" title="var">Heql</span>). <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HeqsX</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="DC.ListExtra1.html#erase_In_length"><span class="id" title="lemma">erase_In_length</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HinsXspr</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hlener</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <a class="idref" href="DC.ListSetNotations.html#erase"><span class="id" title="definition">erase</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlener</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Arith.Compare_dec.html#le_lt_eq_dec"><span class="id" title="definition">le_lt_eq_dec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hlensprs</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hlenlt</span>|<span class="id" title="var">Hleneq</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="CPL.Reduction.html#dreduced_semidreduced"><span class="id" title="constructor">dreduced_semidreduced</span></a>, <a class="idref" href="CPL.Reduction.html#len2_dreduced"><span class="id" title="constructor">len2_dreduced</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hleneq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CPL.Reduction.html#erase_semidreduced"><span class="id" title="constructor">erase_semidreduced</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">sX</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Arith.Compare_dec.html#le_lt_eq_dec"><span class="id" title="definition">le_lt_eq_dec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hlenlt</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hlenlt3</span>|<span class="id" title="var">Hleneq</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="CPL.Reduction.html#len2_dreduced"><span class="id" title="constructor">len2_dreduced</span></a>; <span class="id" title="var">lia</span>). <span class="id" title="tactic">fold</span> (<a class="idref" href="CPL.Deletion.html#sstructr"><span class="id" title="definition">sstructr</span></a>) <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CPL.Reduction.html#ge2_NoDup_dreduced"><span class="id" title="lemma">ge2_NoDup_dreduced</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.ListExtra1.html#NoDup_count"><span class="id" title="lemma">NoDup_count</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">sY</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="CPL.Deletion.html#sstructr_eq_dec"><span class="id" title="lemma">sstructr_eq_dec</span></a> <span class="id" title="var">sX</span> <span class="id" title="var">sY</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">HeqsY</span>|<span class="id" title="var">HneqsY</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HeqsY</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.ListExtra1.html#count_erase_same"><span class="id" title="lemma">count_erase_same</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Heql</span> <span class="id" title="var">sX</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heql</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HeqsX</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CPL.Deletion.html#sstructr_eq_dec"><span class="id" title="lemma">sstructr_eq_dec</span></a> <span class="id" title="var">sX</span> <span class="id" title="var">sX</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.ListExtra1.html#NoDup_count"><span class="id" title="lemma">NoDup_count</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HNDl'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">HNDl'</span> <span class="id" title="var">sX</span>). <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.ListExtra1.html#count_erase_not_same"><span class="id" title="lemma">count_erase_not_same</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Heql</span> <span class="id" title="var">sY</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heql</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HeqsX</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CPL.Deletion.html#sstructr_eq_dec"><span class="id" title="lemma">sstructr_eq_dec</span></a> <span class="id" title="var">sX</span> <span class="id" title="var">sY</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DC.ListExtra1.html#NoDup_count"><span class="id" title="lemma">NoDup_count</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HNDl'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">HNDl'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> <span class="id" title="var">sY</span> <span class="id" title="var">HinsY</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="DC.ListExtra1.html#mset_eq_set_eq"><span class="id" title="lemma">mset_eq_set_eq</span></a> <span class="id" title="var">Heql</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">HinsY</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HeqsX</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HinsY</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">HinsY</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HinsY</span>|<span class="id" title="var">HinsY</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HinsY</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> (<a class="idref" href="DC.ListExtra1.html#mset_incl_incl"><span class="id" title="lemma">mset_incl_incl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hinl'</span>). <span class="id" title="tactic">assumption</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [[<span class="id" title="var">Hsts</span> <span class="id" title="var">Hssps</span>] <span class="id" title="var">Hincs</span>]. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hssps</span> <span class="id" title="keyword">as</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[<span class="id" title="var">Hlen2</span>|<span class="id" title="var">Hlen2</span> <span class="id" title="var">HND</span>]|<span class="id" title="var">Hlen2</span> <span class="id" title="var">sX</span> [<span class="id" title="var">Hlen2'</span>|<span class="id" title="var">Hlen2'</span> <span class="id" title="var">HND</span>]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hls</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.SetoidList.html#InA_app_iff"><span class="id" title="lemma">InA_app_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4: <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a> <a class="idref" href="CPL.Deletion.html#sstructr_eq_dec"><span class="id" title="lemma">sstructr_eq_dec</span></a> <span class="id" title="var">sX</span> (<a class="idref" href="CPL.Deletion.html#PR"><span class="id" title="definition">PR</span></a> <span class="id" title="var">s</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">HsXspr</span>|<span class="id" title="var">HnsXspr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CPL.Deletion.html#PR"><span class="id" title="definition">PR</span></a> <span class="id" title="var">s</span>). <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra1.html#mset_eq_refl"><span class="id" title="lemma">mset_eq_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HlX2</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">HlXp</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="DC.ListExtra1.html#NoDup_l_mset_incl_iff"><span class="id" title="lemma">NoDup_l_mset_incl_iff</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HND</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CPL.Deletion.html#PR"><span class="id" title="definition">PR</span></a> <span class="id" title="var">s</span>). <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra1.html#mset_eq_refl"><span class="id" title="lemma">mset_eq_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HlX3</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">fold</span> (<a class="idref" href="CPL.Deletion.html#sstructr"><span class="id" title="definition">sstructr</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="DC.ListExtra1.html#erase_or_length"><span class="id" title="lemma">erase_or_length</span></a> (<a class="idref" href="CPL.Deletion.html#PR"><span class="id" title="definition">PR</span></a> <span class="id" title="var">s</span>) <span class="id" title="var">sX</span>); <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">Hincs</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hinces</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#incl_tran"><span class="id" title="lemma">incl_tran</span></a> (<a class="idref" href="DC.ListExtra1.html#erase_incl"><span class="id" title="lemma">erase_incl</span></a> (<a class="idref" href="CPL.Deletion.html#PR"><span class="id" title="definition">PR</span></a> <span class="id" title="var">s</span>) <span class="id" title="var">sX</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hinces</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="DC.ListExtra1.html#NoDup_l_mset_incl_iff"><span class="id" title="lemma">NoDup_l_mset_incl_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinces</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="DC.ListSetNotations.html#mset_incl"><span class="id" title="definition">mset_incl</span></a> (<a class="idref" href="DC.ListSetNotations.html#erase"><span class="id" title="definition">erase</span></a> <span class="id" title="var">sX</span> (<a class="idref" href="CPL.Deletion.html#PR"><span class="id" title="definition">PR</span></a> <span class="id" title="var">s</span>)) <span class="id" title="var">lX</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hincespr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="DC.ListExtra1.html#mset_incl_tran"><span class="id" title="lemma">mset_incl_tran</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra1.html#mset_incl_refl"><span class="id" title="lemma">mset_incl_refl</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HlXp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hincespr</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hincespr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hincespr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">le</span> [<span class="id" title="var">Hmeqle</span> <span class="id" title="var">Hinle</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">sX</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">le</span>). <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="DC.ListExtra1.html#mset_eq_erase_cons"><span class="id" title="lemma">mset_eq_erase_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HlXs</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">le</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>. <span class="id" title="tactic">exists</span> <span class="id" title="var">sX</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hincs</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> (<a class="idref" href="DC.ListExtra1.html#erase_not_In"><span class="id" title="lemma">erase_not_In</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HnsXspr</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hlen2'</span>, <span class="id" title="var">HND</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">HlXp</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="DC.ListExtra1.html#NoDup_l_mset_incl_iff"><span class="id" title="lemma">NoDup_l_mset_incl_iff</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HND</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="CPL.Finiteness.html#Finiteness"><span class="id" title="section">Finiteness</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
